webpackJsonp([1],{"+sH/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{emps:[],keywords:"",fileUploadBtnText:"导入数据",beginDateScope:"",faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",dialogTitle:"",multipleSelection:[],depTextColor:"#c0c4cc",nations:[],politics:[],positions:[],joblevels:[],totalCount:-1,currentPage:1,degrees:[{id:4,name:"大专"},{id:5,name:"本科"},{id:6,name:"硕士"},{id:7,name:"博士"},{id:3,name:"高中"},{id:2,name:"初中"},{id:1,name:"小学"},{id:8,name:"其他"}],deps:[],defaultProps:{label:"name",isLeaf:"leaf",children:"children"},dialogVisible:!1,tableLoading:!1,advanceSearchViewVisible:!1,showOrHidePop:!1,showOrHidePop2:!1,emp:{name:"",gender:"",birthday:"",idCard:"",wedlock:"",nationId:"",nativePlace:"",politicId:"",email:"",phone:"",address:"",departmentId:"",departmentName:"所属部门...",jobLevelId:"",posId:"",engageForm:"",tiptopDegree:"",specialty:"",school:"",beginDate:"",workState:"",workID:"",contractTerm:"",conversionTime:"",notWorkDate:"",beginContract:"",endContract:"",workAge:""},rules:{name:[{required:!0,message:"必填:姓名",trigger:"blur"}],gender:[{required:!0,message:"必填:性别",trigger:"blur"}],birthday:[{required:!0,message:"必填:出生日期",trigger:"blur"}],idCard:[{required:!0,message:"必填:身份证号码",trigger:"blur"},{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"身份证号码格式不正确",trigger:"blur"}],wedlock:[{required:!0,message:"必填:婚姻状况",trigger:"blur"}],nationId:[{required:!0,message:"必填:民族",trigger:"change"}],nativePlace:[{required:!0,message:"必填:籍贯",trigger:"blur"}],politicId:[{required:!0,message:"必填:政治面貌",trigger:"blur"}],email:[{required:!0,message:"必填:电子邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone:[{required:!0,message:"必填:电话号码",trigger:"blur"}],address:[{required:!0,message:"必填:联系地址",trigger:"blur"}],departmentId:[{required:!0,message:"必填:部门",trigger:"change"}],jobLevelId:[{required:!0,message:"必填:职称",trigger:"change"}],posId:[{required:!0,message:"必填:职位",trigger:"change"}],engageForm:[{required:!0,message:"必填:聘用形式",trigger:"blur"}],tiptopDegree:[{required:!0,message:"必填:最高学历",trigger:"change"}],specialty:[{required:!0,message:"必填:专业",trigger:"blur"}],workID:[{required:!0,message:"必填:工号",trigger:"blur"}],school:[{required:!0,message:"必填:毕业院校",trigger:"blur"}],beginDate:[{required:!0,message:"必填:入职日期",trigger:"blur"}],conversionTime:[{required:!0,message:"必填:转正日期",trigger:"blur"}],beginContract:[{required:!0,message:"必填:合同起始日期",trigger:"blur"}],endContract:[{required:!0,message:"必填:合同终止日期",trigger:"blur"}],workAge:[{required:!0,message:"必填:工龄",trigger:"blur"}]}}},mounted:function(){console.log("sss"+this.$store.userid+"router   "+this.$router.userid),this.initData(),this.loadEmps()},methods:{fileUploadSuccess:function(e,t,a){e&&this.$message({type:e.status,message:e.msg}),this.loadEmps(),this.fileUploadBtnText="导入数据"},fileUploadError:function(e,t,a){this.$message({type:"error",message:"导入失败!"}),this.fileUploadBtnText="导入数据"},beforeFileUpload:function(e){this.fileUploadBtnText="正在导入"},exportEmps:function(){window.open("/employee/basic/exportEmp","_parent")},cancelSearch:function(){this.advanceSearchViewVisible=!1,this.emptyEmpData(),this.beginDateScope="",this.loadEmps()},showAdvanceSearchView:function(){this.advanceSearchViewVisible=!this.advanceSearchViewVisible,this.keywords="",this.advanceSearchViewVisible||(this.emptyEmpData(),this.beginDateScope="",this.loadEmps())},handleSelectionChange:function(e){this.multipleSelection=e},deleteManyEmps:function(){var e=this;this.$confirm("此操作将删除["+this.multipleSelection.length+"]条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t="",a=0;a<e.multipleSelection.length;a++)t+=e.multipleSelection[a].id+",";e.doDelete(t)}).catch(function(){})},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除["+e.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.id)}).catch(function(){})},doDelete:function(e){this.tableLoading=!0;var t=this;this.deleteRequest("/employee/basic/emp/"+e).then(function(e){if(t.tableLoading=!1,e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.loadEmps()}})},keywordsChange:function(e){""==e&&this.loadEmps()},searchEmp:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("/employee/basic/emp?page="+this.currentPage+"&size=10&keywords="+this.keywords+"&politicId="+this.emp.politicId+"&nationId="+this.emp.nationId+"&posId="+this.emp.posId+"&jobLevelId="+this.emp.jobLevelId+"&engageForm="+this.emp.engageForm+"&departmentId="+this.emp.departmentId+"&beginDateScope="+this.beginDateScope).then(function(a){if(e.tableLoading=!1,a&&200==a.status){var i=a.data;t.emps=i.emps,t.totalCount=i.count}})},addEmp:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;t.emp.id?(t.tableLoading=!0,t.putRequest("/employee/basic/emp",t.emp).then(function(e){if(a.tableLoading=!1,e&&200==e.status){var t=e.data;a.$message({type:t.status,message:t.msg}),a.dialogVisible=!1,a.emptyEmpData(),a.loadEmps()}})):(t.tableLoading=!0,t.postRequest("/employee/basic/emp",t.emp).then(function(e){if(a.tableLoading=!1,e&&200==e.status){var t=e.data;a.$message({type:t.status,message:t.msg}),a.dialogVisible=!1,a.emptyEmpData(),a.loadEmps()}}))})},cancelEidt:function(){this.dialogVisible=!1,this.emptyEmpData()},showDepTree:function(){this.showOrHidePop=!this.showOrHidePop},showDepTree2:function(){this.showOrHidePop2=!this.showOrHidePop2},handleNodeClick:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop=!1,this.depTextColor="#606266"},handleNodeClick2:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop2=!1,this.depTextColor="#606266"},initData:function(){var e=this;this.getRequest("/employee/basic/basicdata").then(function(t){if(t&&200==t.status){var a=t.data;e.nations=a.nations,e.politics=a.politics,e.deps=a.deps,e.positions=a.positions,e.joblevels=a.joblevels,e.emp.workID=a.workID}})},showEditEmpView:function(e){console.log(e),this.dialogTitle="编辑员工",this.emp=e,this.emp.birthday=this.formatDate(e.birthday),this.emp.conversionTime=this.formatDate(e.conversionTime),this.emp.beginContract=this.formatDate(e.beginContract),this.emp.endContract=this.formatDate(e.endContract),this.emp.beginDate=this.formatDate(e.beginDate),this.emp.nationId=e.nation.id,this.emp.politicId=e.politicsStatus.id,this.emp.departmentId=e.department.id,this.emp.departmentName=e.department.name,this.emp.jobLevelId=e.jobLevel.id,this.emp.posId=e.position.id,delete this.emp.workAge,delete this.emp.notWorkDate,this.dialogVisible=!0},showAddEmpView:function(){this.dialogTitle="添加员工",this.dialogVisible=!0;var e=this;this.getRequest("/employee/basic/maxWorkID").then(function(t){t&&200==t.status&&(e.emp.workID=t.data)})},emptyEmpData:function(){this.emp={name:"",gender:"",birthday:"",idCard:"",wedlock:"",nationId:"",nativePlace:"",politicId:"",email:"",phone:"",address:"",departmentId:"",departmentName:"所属部门...",jobLevelId:"",posId:"",engageForm:"",tiptopDegree:"",specialty:"",school:"",beginDate:"",workState:"",workID:"",contractTerm:"",conversionTime:"",notWorkDate:"",beginContract:"",endContract:"",workAge:""}}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{display:"inline"}},[a("el-input",{staticStyle:{width:"300px",margin:"0px",padding:"0px"},attrs:{placeholder:"通过员工名搜索员工,记得回车哦...",clearable:"",size:"mini",disabled:e.advanceSearchViewVisible,"prefix-icon":"el-icon-search"},on:{change:e.keywordsChange},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.searchEmp(t):null}},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchEmp}},[e._v("搜索\n        ")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"primary",size:"mini"},on:{click:e.showAdvanceSearchView},slot:"reference"},[a("i",{staticClass:"fa fa-lg",class:[e.advanceSearchViewVisible?e.faangledoubleup:e.faangledoubledown],staticStyle:{"margin-right":"5px"}}),e._v("高级搜索\n        ")])],1),e._v(" "),a("div",{staticStyle:{"margin-left":"5px","margin-right":"20px",display:"inline"}},[a("el-upload",{staticStyle:{display:"inline"},attrs:{"show-file-list":!1,accept:"application/vnd.ms-excel",action:"/employee/basic/importEmp","on-success":e.fileUploadSuccess,"on-error":e.fileUploadError,disabled:"正在导入"==e.fileUploadBtnText,"before-upload":e.beforeFileUpload}},[a("el-button",{attrs:{size:"mini",type:"success",loading:"正在导入"==e.fileUploadBtnText}},[a("i",{staticClass:"fa fa-lg fa-level-up",staticStyle:{"margin-right":"5px"}}),e._v(e._s(e.fileUploadBtnText)+"\n          ")])],1),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportEmps}},[a("i",{staticClass:"fa fa-lg fa-level-down",staticStyle:{"margin-right":"5px"}}),e._v("导出数据\n        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.showAddEmpView}},[e._v("\n          添加员工\n        ")])],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("transition",{attrs:{name:"slide-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.advanceSearchViewVisible,expression:"advanceSearchViewVisible"}],staticStyle:{"margin-bottom":"10px",border:"1px","border-radius":"5px","border-style":"solid",padding:"5px 0px 5px 0px","box-sizing":"border-box","border-color":"#20a0ff"}},[a("el-row",[a("el-col",{attrs:{span:5}},[e._v("\n                政治面貌:\n                "),a("el-select",{staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"政治面貌"},model:{value:e.emp.politicId,callback:function(t){e.$set(e.emp,"politicId",t)},expression:"emp.politicId"}},e._l(e.politics,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                民族:\n                "),a("el-select",{staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"请选择民族"},model:{value:e.emp.nationId,callback:function(t){e.$set(e.emp,"nationId",t)},expression:"emp.nationId"}},e._l(e.nations,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                职位:\n                "),a("el-select",{staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"请选择职位"},model:{value:e.emp.posId,callback:function(t){e.$set(e.emp,"posId",t)},expression:"emp.posId"}},e._l(e.positions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[e._v("\n                职称:\n                "),a("el-select",{staticStyle:{width:"130px"},attrs:{size:"mini",placeholder:"请选择职称"},model:{value:e.emp.jobLevelId,callback:function(t){e.$set(e.emp,"jobLevelId",t)},expression:"emp.jobLevelId"}},e._l(e.joblevels,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:7}},[e._v("\n                聘用形式:\n                "),a("el-radio-group",{model:{value:e.emp.engageForm,callback:function(t){e.$set(e.emp,"engageForm",t)},expression:"emp.engageForm"}},[a("el-radio",{attrs:{label:"劳动合同"}},[e._v("劳动合同")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"劳务合同"}},[e._v("劳务合同")])],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-col",{attrs:{span:5}},[e._v("\n                所属部门:\n                "),a("el-popover",{attrs:{placement:"right",title:"请选择部门",trigger:"manual"},model:{value:e.showOrHidePop2,callback:function(t){e.showOrHidePop2=t},expression:"showOrHidePop2"}},[a("el-tree",{attrs:{data:e.deps,"default-expand-all":!0,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick2}}),e._v(" "),a("div",{staticStyle:{width:"130px",height:"26px",display:"inline-flex","font-size":"13px",border:"1px","border-radius":"5px","border-style":"solid","padding-left":"13px","box-sizing":"border-box","border-color":"#dcdfe6",cursor:"pointer","align-items":"center"},style:{color:e.depTextColor},attrs:{slot:"reference"},on:{click:e.showDepTree2},slot:"reference"},[e._v(e._s(e.emp.departmentName)+"\n                  ")])],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[e._v("\n                入职日期:\n                "),a("el-date-picker",{attrs:{"unlink-panels":"",size:"mini",type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.beginDateScope,callback:function(t){e.beginDateScope=t},expression:"beginDateScope"}})],1),e._v(" "),a("el-col",{attrs:{span:5,offset:4}},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelSearch}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.searchEmp}},[e._v("搜索")])],1)],1)],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"left",fixed:"",label:"姓名",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"workID",width:"85",align:"left",label:"工号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gender",label:"性别",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{width:"85",align:"left",label:"出生日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.birthday)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"idCard",width:"150",align:"left",label:"身份证号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wedlock",width:"70",label:"婚姻状况"}}),e._v(" "),a("el-table-column",{attrs:{width:"50",prop:"nation.name",label:"民族"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nativePlace",width:"80",label:"籍贯"}}),e._v(" "),a("el-table-column",{attrs:{prop:"politicsStatus.name",label:"政治面貌"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",width:"180",align:"left",label:"电子邮件"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",width:"100",label:"电话号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",width:"220",align:"left",label:"联系地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"department.name",align:"left",width:"100",label:"所属部门"}}),e._v(" "),a("el-table-column",{attrs:{width:"100",align:"left",prop:"position.name",label:"职位"}}),e._v(" "),a("el-table-column",{attrs:{prop:"jobLevel.name",width:"100",align:"left",label:"职称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"engageForm",label:"聘用形式"}}),e._v(" "),a("el-table-column",{attrs:{width:"85",align:"left",label:"入职日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.beginDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"85",align:"left",label:"转正日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.conversionTime)))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"95",align:"left",label:"合同起始日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.beginContract)))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"95",align:"left",label:"合同截至日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.endContract)))]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",width:"70",label:"合同期限"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.contractTerm)+"年")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"left",prop:"tiptopDegree",label:"最高学历"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"195"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{size:"mini"},on:{click:function(a){e.showEditEmpView(t.row)}}},[e._v("编辑\n              ")]),e._v(" "),a("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{type:"primary",size:"mini"}},[e._v("查看高级资料\n              ")]),e._v(" "),a("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{type:"danger",size:"mini"},on:{click:function(a){e.deleteEmp(t.row)}}},[e._v("删除\n              ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.emps.length>0?a("el-button",{attrs:{type:"danger",size:"mini",disabled:0==e.multipleSelection.length},on:{click:e.deleteManyEmps}},[e._v("批量删除\n          ")]):e._e(),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1),e._v(" "),a("el-form",{ref:"addEmpForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.emp,rules:e.rules}},[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"77%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入员工姓名"},model:{value:e.emp.name,callback:function(t){e.$set(e.emp,"name",t)},expression:"emp.name"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",[a("el-form-item",{attrs:{label:"性别:",prop:"gender"}},[a("el-radio-group",{model:{value:e.emp.gender,callback:function(t){e.$set(e.emp,"gender",t)},expression:"emp.gender"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"女"}},[e._v("女")])],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"出生日期:",prop:"birthday"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",type:"date",placeholder:"出生日期"},model:{value:e.emp.birthday,callback:function(t){e.$set(e.emp,"birthday",t)},expression:"emp.birthday"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",[a("el-form-item",{attrs:{label:"政治面貌:",prop:"politicId"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"政治面貌"},model:{value:e.emp.politicId,callback:function(t){e.$set(e.emp,"politicId",t)},expression:"emp.politicId"}},e._l(e.politics,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"民族:",prop:"nationId"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择民族"},model:{value:e.emp.nationId,callback:function(t){e.$set(e.emp,"nationId",t)},expression:"emp.nationId"}},e._l(e.nations,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",[a("el-form-item",{attrs:{label:"籍贯:",prop:"nativePlace"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:"员工籍贯"},model:{value:e.emp.nativePlace,callback:function(t){e.$set(e.emp,"nativePlace",t)},expression:"emp.nativePlace"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"电子邮箱:",prop:"email"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-message",size:"mini",placeholder:"电子邮箱地址..."},model:{value:e.emp.email,callback:function(t){e.$set(e.emp,"email",t)},expression:"emp.email"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",[a("el-form-item",{attrs:{label:"联系地址:",prop:"address"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"联系地址..."},model:{value:e.emp.address,callback:function(t){e.$set(e.emp,"address",t)},expression:"emp.address"}})],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"职位:",prop:"posId"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择职位"},model:{value:e.emp.posId,callback:function(t){e.$set(e.emp,"posId",t)},expression:"emp.posId"}},e._l(e.positions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",[a("el-form-item",{attrs:{label:"职称:",prop:"jobLevelId"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:"请选择职称"},model:{value:e.emp.jobLevelId,callback:function(t){e.$set(e.emp,"jobLevelId",t)},expression:"emp.jobLevelId"}},e._l(e.joblevels,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"所属部门:",prop:"departmentId"}},[a("el-popover",{attrs:{placement:"right",title:"请选择部门",trigger:"manual"},model:{value:e.showOrHidePop,callback:function(t){e.showOrHidePop=t},expression:"showOrHidePop"}},[a("el-tree",{attrs:{data:e.deps,"default-expand-all":!0,props:e.defaultProps,"expand-on-click-node":!1},on:{"node-click":e.handleNodeClick}}),e._v(" "),a("div",{staticStyle:{width:"150px",height:"26px",display:"inline-flex","font-size":"13px",border:"1px","border-radius":"5px","border-style":"solid","padding-left":"13px","box-sizing":"border-box","border-color":"#dcdfe6",cursor:"pointer","align-items":"center"},style:{color:e.depTextColor},attrs:{slot:"reference"},on:{click:function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?"button"in t&&0!==t.button?null:e.showDepTree(t):null}},slot:"reference"},[e._v(e._s(e.emp.departmentName)+"\n                  ")])],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",[a("el-form-item",{attrs:{label:"电话号码:",prop:"phone"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-phone",size:"mini",placeholder:"电话号码..."},model:{value:e.emp.phone,callback:function(t){e.$set(e.emp,"phone",t)},expression:"emp.phone"}})],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"工号:",prop:"workID"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{disabled:"",size:"mini",placeholder:"员工工号..."},model:{value:e.emp.workID,callback:function(t){e.$set(e.emp,"workID",t)},expression:"emp.workID"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("div",[a("el-form-item",{attrs:{label:"学历:",prop:"tiptopDegree"}},[a("el-select",{staticStyle:{width:"120px"},attrs:{size:"mini",placeholder:"最高学历"},model:{value:e.emp.tiptopDegree,callback:function(t){e.$set(e.emp,"tiptopDegree",t)},expression:"emp.tiptopDegree"}},e._l(e.degrees,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}))],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"毕业院校:",prop:"school"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"毕业院校名称"},model:{value:e.emp.school,callback:function(t){e.$set(e.emp,"school",t)},expression:"emp.school"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:7}},[a("div",[a("el-form-item",{attrs:{label:"专业名称:",prop:"specialty"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"专业名称"},model:{value:e.emp.specialty,callback:function(t){e.$set(e.emp,"specialty",t)},expression:"emp.specialty"}})],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"入职日期:",prop:"beginDate"}},[a("el-date-picker",{staticStyle:{width:"130px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"入职日期"},model:{value:e.emp.beginDate,callback:function(t){e.$set(e.emp,"beginDate",t)},expression:"emp.beginDate"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:6}},[a("div",[a("el-form-item",{attrs:{label:"合同终止日期:",prop:"endContract"}},[a("el-date-picker",{staticStyle:{width:"135px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"date",placeholder:"合同终止日期"},model:{value:e.emp.endContract,callback:function(t){e.$set(e.emp,"endContract",t)},expression:"emp.endContract"}})],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",[a("el-form-item",{attrs:{label:"身份证号码:",prop:"idCard"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{"prefix-icon":"el-icon-edit",size:"mini",placeholder:"请输入员工身份证号码..."},model:{value:e.emp.idCard,callback:function(t){e.$set(e.emp,"idCard",t)},expression:"emp.idCard"}})],1)],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",[a("el-form-item",{attrs:{label:"聘用形式:",prop:"engageForm"}},[a("el-radio-group",{model:{value:e.emp.engageForm,callback:function(t){e.$set(e.emp,"engageForm",t)},expression:"emp.engageForm"}},[a("el-radio",{attrs:{label:"劳动合同"}},[e._v("劳动合同")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"劳务合同"}},[e._v("劳务合同")])],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",[a("el-form-item",{attrs:{label:"婚姻状况:",prop:"wedlock"}},[a("el-radio-group",{model:{value:e.emp.wedlock,callback:function(t){e.$set(e.emp,"wedlock",t)},expression:"emp.wedlock"}},[a("el-radio",{attrs:{label:"已婚"}},[e._v("已婚")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"未婚"}},[e._v("未婚")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"离异"}},[e._v("离异")])],1)],1)],1)])],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.addEmp("addEmpForm")}}},[e._v("确 定")])],1)],1)],1)])],1)},staticRenderFns:[]};var n=a("VU/8")(i,l,!1,function(e){a("oM2D")},null,null);t.default=n.exports},"0YpC":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n=a("bOdI"),s=a.n(n),o=a("0ZYY"),r=a.n(o),d=(a("npPj"),{components:{Treeselect:r.a},data:function(){return{normalizer:function(e){return{id:e.id,label:e.name,children:e.children}},jflist:[],userlist:[],lvlist:[],title:"",pieData:[],pieDeptData:[],barData:[],barDataNum:[],barData2:[],barDataNu2:[],barData3:[],barDataNum3:[],row:{},tableData:[],dialogFormVisible:!1,dialogFormVisible1:!1,data:[],depts:[],emps:[],pictures:[],ptime:"",faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",dialogTitle:"",multipleSelection:[],depTextColor:"#c0c4cc",totalCount:-1,currentPage:1,page:1,total:-1,deps:[],defaultProps:{label:"name",children:"children"},dialogVisible:!1,tableLoading:!1,emp:{type:[],number:"",deptids:null,ptime:"",endtime:"",name:"",address:""}}},mounted:function(){this.initData(),this.initDate()},methods:{showPictuer:function(e){var t=this;console.log(e.id),this.getRequest("api/report/getPictureAddress?id="+e.id).then(function(e){if(t.picures=[],t.dialogVisible=!0,e&&200==e.data.status){var a=e.data.data;t.picures=a.rows}})},drawPie:function(){this.$echarts.init(document.getElementById("pie")).setOption({title:{text:"地区完成数量排行榜TOP:10",subtext:"",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"right",data:this.pieDeptData},series:[{name:"",type:"pie",radius:"50%",center:["50%","60%"],data:this.pieData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0,0, 0, 0.5)"}}}]})},drawBar:function(){this.$echarts.init(document.getElementById("line")).setOption({title:{text:"个人排名TOP10",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{y2:140},xAxis:{type:"category",data:this.barData,axisLabel:{interval:0,rotate:-30}},yAxis:{type:"value",max:10},series:[{name:"个人排名",type:"bar",data:this.barDataNum,barCategoryGap:20}]})},drawBar2:function(){var e;this.$echarts.init(document.getElementById("line2")).setOption({color:["#3398DB"],title:{text:"个人积分TOP10",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:[{type:"category",data:this.barData,axisLabel:{interval:0,rotate:-30}}],grid:{y2:140,left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{max:10,type:"value"},series:[(e={barWidth:30,name:"个人积分",type:"bar"},s()(e,"barWidth","60%"),s()(e,"data",this.barDataNum2),e)]})},drawBar3:function(){this.$echarts.init(document.getElementById("line3")).setOption({title:{text:"响应速度TOP10",x:"center"},tooltip:{},grid:{y2:140},xAxis:{data:this.barData3,axisLabel:{interval:0,rotate:-30}},yAxis:{type:"value",max:10},series:[{name:"响应速度",type:"line",data:this.barDataNum3}]})},viewChange:function(e){var t=this,a=this;this.dialogFormVisible1=!0,this.getRequest("api/report/reportDetail?id="+e).then(function(e){console.log("返回结果  "+l()(e.data)),e&&200==e.status&&(a.title=e.data.report.name,a.pieData=JSON.parse(e.data.deptPie),a.pieDeptData=e.data.deptlist.name,a.barData=e.data.barAxis,console.log("姓名:"+a.barData),a.barDataNum=e.data.barAYis,console.log("f分数:"+a.barDataNum),a.barData2=e.data.jfbarAxis,a.barDataNum2=e.data.jfbarAYis,a.barData3=e.data.lvdata,a.barDataNum3=e.data.lvbarAxis,a.userlist=e.data.userlist,a.jflist=e.data.jflist,console.log("*** "+e.data),console.log("items   "+l()(a.userlist)),t.drawPie(),t.drawBar(),t.drawBar2(),t.drawBar3())})},showPic:function(e){this.row=e;var t=this;this.tableLoading=!0,this.getRequest("api/report/getReportUser?id="+this.row.id+"&page="+this.page+"&limit=10&ptime="+this.emp.ptime+"&endtime="+this.emp.endtime).then(function(e){if(e&&200==e.status){var a=e.data.data;t.tableData=a.rows,t.total=a.total,t.tableLoading=!1}}),this.dialogFormVisible=!0},handleSelectionChange:function(e){this.multipleSelection=e},currentChange:function(e){this.currentPage=e,this.loadEmps()},pageChange:function(e){console.log("************* +++++"+e),this.page=e,this.showPic(this.row),console.log("此处有个小问题!!!!!!!")},loadReports:function(){this.loadEmps()},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,null==this.emp.deptids&&(this.emp.deptids=-1),this.getRequest("api/report/getReport?page="+this.currentPage+"&limit=10&ptime="+this.emp.ptime+"&endtime="+this.emp.endtime+"&deptid="+this.emp.deptids+"&name="+this.emp.name).then(function(a){if(e.tableLoading=!1,a&&200==a.data.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},initData:function(){var e=this;this.getRequest("/api/ndept/deptTree/1").then(function(t){var a=t.data;t&&200==t.status&&(e.depts=a.data,e.data=a.data)})},initDate:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate(),l=t+"-"+a+"-"+i,n=a-1;n<10&&(n="0"+n),this.emp.endtime=l,this.emp.ptime=t+"-"+n+"-"+i,this.loadReports()},emptyEmpData:function(){this.emp=s()({ptime:"",endtime:"",deptids:"",name:"",address:""},"deptids",null)}}}),p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{"align-content":"center","font-size":"12px"}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("span",{staticClass:"demonstration"},[e._v("从")]),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.emp.ptime,callback:function(t){e.$set(e.emp,"ptime",t)},expression:"emp.ptime"}})],1),e._v(" "),a("el-col",{attrs:{span:6,pull:3}},[a("span",{staticClass:"demonstration"},[e._v("到")]),e._v(" "),a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",size:"mini",placeholder:"结束日期"},model:{value:e.emp.endtime,callback:function(t){e.$set(e.emp,"endtime",t)},expression:"emp.endtime"}})],1),e._v(" "),a("el-col",{attrs:{span:6,pull:5}},[a("treeselect",{staticStyle:{height:"28px"},attrs:{size:"mini",multiple:!0,options:e.depts,placeholder:"请选择地区",normalizer:e.normalizer},model:{value:e.emp.deptids,callback:function(t){e.$set(e.emp,"deptids",t)},expression:"emp.deptids"}})],1),e._v(" "),a("el-col",{attrs:{span:3,pull:5}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入任务名称",size:"mini",clearable:""},model:{value:e.emp.name,callback:function(t){e.$set(e.emp,"name",t)},expression:"emp.name"}})],1),e._v(" "),a("el-col",{attrs:{span:2,pull:5}},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.loadReports}},[e._v("搜索")])],1)],1)],1)]),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{width:"100%",height:"100%"},attrs:{title:"任务执行详情",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"index",label:"编号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"执行人",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"执行条数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"score",label:"得分"}}),e._v(" "),a("el-table-column",{attrs:{prop:"show",label:"查看图片"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{color:"lightseagreen"},attrs:{type:"text"},on:{click:function(a){e.showPictuer(t.row)}}},[e._v("\n                查看\n              ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.emps.length>0?a("el-button",{attrs:{type:"text",size:"mini",disabled:""}}):e._e(),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.page,layout:"prev, pager, next",total:e.total},on:{"current-change":e.pageChange}})],1)],1)],1),e._v(" "),a("div",{staticClass:"my",staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{width:"100%",height:"100%"},attrs:{title:e.title,visible:e.dialogFormVisible1},on:{"update:visible":function(t){e.dialogFormVisible1=t}}},[a("el-row",[a("div",{staticClass:"div-title"},[a("span",[e._v("地区占比")])])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticStyle:{width:"450px",height:"500px"},attrs:{id:"pie"}})]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"div-title-right"},[a("span",{staticClass:"span-title"},[e._v("地区完成数量排行榜TOP10")])])])],1),e._v(" "),a("el-row",[a("div",{staticClass:"div-title"},[a("span",[e._v("个人排名数量")])])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticStyle:{width:"450px",height:"500px"},attrs:{id:"line"}})]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"div-title-right"},[a("span",{staticClass:"span-title"},[e._v("个人数量排行榜TOP10")])]),e._v(" "),e._l(e.userlist,function(t){return a("ul",{staticClass:"example-1"},[a("li",[e._v(e._s(t.name))]),e._v(" "),a("li",[e._v("("+e._s(t.number)+")")])])})],2)],1),e._v(" "),a("el-row",[a("div",{staticClass:"div-title"},[a("span",[e._v("个人积分排名")])])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{style:{width:"450px",height:"500px"},attrs:{id:"line2"}})]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"div-title-right"},[a("span",{staticClass:"span-title"},[e._v("个人积分排行榜TOP10")])]),e._v(" "),e._l(e.jflist,function(t){return a("ul",{attrs:{id:"example-2"}},[a("li",[e._v(e._s(t.name))]),e._v(" "),a("li",[e._v("("+e._s(t.score)+")")])])})],2)],1),e._v(" "),a("el-row",[a("div",{staticClass:"div-title"},[a("span",{staticStyle:{"text-align":"center"}},[e._v("响应速度排名")])])]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{style:{width:"450px",height:"500px"},attrs:{id:"line3"}})]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"div-title-right"},[a("span",{staticClass:"span-title"},[e._v("响应速度排行榜TOP10")])]),e._v(" "),e._l(e.lvlist,function(e){return a("ul",{attrs:{id:"example-4"}})})],2)],1)],1)],1),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"index",align:"left",fixed:"",label:"编号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"left",fixed:"",label:"任务名称",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",width:"110",align:"left",label:"任务类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",width:"150",label:"链接"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{color:"cadetblue"},attrs:{target:"_blank",href:t.row.address}},[e._v(e._s(t.row.address))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"100",prop:"username",label:"发布人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ptime",width:"170",align:"left",label:"发布时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endtime",width:"170",align:"left",label:"结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number3",width:"80",align:"left",label:"下发人数"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",prop:"number",label:"总数"}}),e._v(" "),a("el-table-column",{attrs:{width:"80",prop:"number2",label:"完成数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"score",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{color:"gold"},attrs:{type:"text"},on:{click:function(a){e.showPic(t.row)}}},[e._v("图片查看")]),e._v(" "),a("el-button",{staticStyle:{color:"gold"},attrs:{type:"text"},on:{click:function(a){e.viewChange(t.row.id)}}},[e._v("详情分析")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.emps.length>0?a("el-button",{attrs:{type:"text",size:"mini"}}):e._e(),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"77%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e._l(e.pictures,function(e){return a("div",{key:e.id,staticStyle:{display:"inline","padding-right":"10px"}},[a("img",{attrs:{src:e.address,width:"100",height:"100",alt:""}})])}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("关 闭")])],1)],2)],1)],1)])],1)],1)},staticRenderFns:[]};var c=a("VU/8")(d,p,!1,function(e){a("EHy3")},null,null);t.default=c.exports},"0ka+":function(e,t){},"1Gow":function(e,t){},"2G3e":function(e,t){},"2RQO":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),n=a("mvHQ"),s=a.n(n),o={data:function(){return{id:"",keywords:"",depName:"",corpusName:"",treeLoading:!1,dialogVisible:!1,updateVisible:!1,allDeps:[],pDep:"",vCorpus:"",treeData:[],totalCount:0,total:0,index:"",cid:"",content:"",emps:[],emp:{id:"",index:"",content:""},tableLoading:!1,multipleSelection:[],currentPage:1,removeArr:[],addDataVisible:!1,corpusData:"",updateDataVisible:!1,updateCorpusData:"",searchWords:"",defaultProps:{label:"name",isLeaf:"leaf",children:"children"},rules:{name:[{required:!0,message:"请输入菜单名称",trigger:"blur"},{min:3,max:100,trigger:"blur"}]}}},mounted:function(){this.treeLoading=!0,this.loadTreeData()},watch:{keywords:function(e){this.$refs.tree.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},handleNodeClick:function(e){console.log("click data:"+s()(e)),this.cid=e.id,this.vCorpus=e.fid,console.log("cid:"+e.id),this.currentPage=1,this.loadEmps(),this.removeArr=[]},updateCorpus:function(){var e=this;this.updateVisible=!1;var t={};t.name=this.corpusName,t.fid=this.vCorpus,t.id=this.id,console.log("update form:"+s()(t)),this.putRequestJson("/api/corpus/a"+this.id,t).then(function(t){e.treeLoading=!1,t&&200==t.status&&(e.$message({type:t.status,message:"更新成功!"}),e.loadTreeData())}),e.loadAllDeps(),e.deleteLocalDep(e.treeData,t),e.setDataToTree(e.treeData,t.parentId,t)},loadTreeData:function(){var e=this;this.getRequest("api/corpus/getCorpusByFid?fid=-1").then(function(t){e.treeLoading=!1,t&&200==t.status&&(e.treeData=t.data)})},setDataToTree:function(e,t,a){console.log("respD："+a),console.log("respData："+s()(a));for(var i=0;i<e.length;i++){var l=e[i];if(l.id==t)return void(e[i].children=e[i].children.concat(a));this.setDataToTree(l.children,t,a)}},addDep:function(){var e=this;this.dialogVisible=!1,this.treeLoading=!0,this.postRequestJson("/api/corpus/insertCorpus",{name:this.depName,fid:this.pDep}).then(function(t){if(e.treeLoading=!1,t&&200==t.status){console.log(s()(t));var a=t.data;e.depName="",e.$message({type:a.status,message:"添加成功!"}),e.setDataToTree(e.treeData,e.pDep,a.data)}})},loadAllDeps:function(){var e=this;this.getRequest("/api/corpus/getAllByUid").then(function(t){t&&200==t.status&&(e.allDeps=t.data)})},showAddDepView:function(e,t){this.loadAllDeps(),this.dialogVisible=!0,this.pDep=e.id,t.stopPropagation()},showUpdateDepView:function(e,t){-1!=e.fid?(this.loadAllDeps(),this.updateVisible=!0,this.vCorpus=e.fid,this.id=e.id,this.corpusName=e.name,t.stopPropagation()):this.$message({message:"根节点不能修改!",type:"warning"})},deleteDep:function(e,t){var a=this;console.log(e.id),-1!=e.fid?(null!=e.children&&e.children.length>0?this.$message({message:"该语料集下尚有其他语料集，不能被删除!",type:"warning"}):this.$confirm("删除["+e.name+"]语料集, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.treeLoading=!0,a.deleteRequest("/api/corpus/delCorpus/a"+e.id).then(function(t){if(a.treeLoading=!1,t&&200==t.status){var i=t.data;a.$message({message:"删除成功!",type:i.status}),a.deleteLocalDep(a.treeData,e)}})}).catch(function(){a.$message({type:"info",message:"已取消删除"})}),t.stopPropagation()):a.$message({message:"根节点不能被删除!",type:"warning"})},deleteLocalDep:function(e,t){for(var a=0;a<e.length;a++){var i=e[a];if(i.id==t.id)return void e.splice(a,1);this.deleteLocalDep(i.children,t)}},handleSelectionChange:function(e){this.multipleSelection=e},loadEmps:function(){var e=this,t="cid="+this.cid+"&page="+this.currentPage+"&limit=10&word="+this.searchWords;this.getRequest("/api/corpus/getCorpusDataByCid?"+t).then(function(t){if(t&&200==t.status){var a=t.data.data;e.emps=a.rows,console.log("data.total=="+a.total),e.totalCount=a.total}})},currentChange:function(e){console.log("currentChange=="+e),this.currentPage=e,this.loadEmps()},changeFun:function(e){if(console.log("val=="+s()(e)),this.removeArr=[],e)for(var t in e)this.removeArr[t]=e[t].id;console.log("change=="+this.removeArr)},deleteData:function(){var e=this;this.removeArr.length<=0?this.$message({message:"选择要删除的数据!",type:"warning"}):(this.$confirm("删除["+this.removeArr.length+"]条语料, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.treeLoading=!0,e.deleteRequest("/api/corpus/delCorpusData/a"+e.removeArr.join()).then(function(t){e.treeLoading=!1,t&&200==t.status&&(e.$message({message:"删除成功!"}),e.removeArr=[],e.loadEmps())})}).catch(function(){e.$message({type:"info",message:"已取消删除"})}),event.stopPropagation())},addDataWin:function(){console.log("addDataWin"),this.corpusData="",""!=this.vCorpus?-1!=this.vCorpus?this.addDataVisible=!0:this.$message({message:"根语料集不能添加语料!",type:"warning"}):this.$message({message:"请先选择语料集!",type:"warning"})},updateDataWin:function(){console.log(this.removeArr.length),this.removeArr.length<=0?this.$message({message:"请选择要修改的数据!",type:"warning"}):this.removeArr.length>1?this.$message({message:"修改的数据只能选择一条!",type:"warning"}):(this.updateCorpusData=this.multipleSelection[0].content,this.id=this.multipleSelection[0].id,this.updateDataVisible=!0)},addDataToStore:function(){var e=this,t=this;console.log("data=="+t.corpusData),""!=this.strTrim(t.corpusData)?(this.addDataVisible=!1,this.postRequestJson("/api/corpus/addCorpusData",{data:t.corpusData,cid:t.cid}).then(function(a){t.treeLoading=!1,a&&200==a.status&&(t.$message({type:a.status,message:"添加成功!"}),e.loadEmps())})):this.$message({message:"请先输入语料!",type:"warning"})},updateDataToStore:function(){var e=this,t=this;""!=this.strTrim(t.updateCorpusData)?(this.updateDataVisible=!1,this.putRequestJson("/api/corpus/updateCorpusData/a"+t.id,{content:t.updateCorpusData}).then(function(a){t.treeLoading=!1,a&&200==a.status&&(t.$message({type:a.status,message:"添加成功!"}),e.removeArr=[],e.loadEmps())})):this.$message({message:"请先输入语料!",type:"warning"})},clickRow:function(e){this.$refs.tb.toggleRowSelection(e);for(var t=-1,a=0;a<this.removeArr.length;a++)if(this.removeArr[a]==e.id){t=a;break}-1!=t?this.removeArr.splice(t,1):this.removeArr.push(e.id)},strTrim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},renderContent:function(e,t){var a,i,n,s=this,o=t.node,r=t.data;t.store;return e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[o.label])]),e("span",[e("el-button",(a={attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},style:"font-size: 12px;"},l()(a,"style","padding:3px"),l()(a,"on",{click:function(){return s.showAddDepView(r,event)}}),a),["添加"]),e("el-button",(i={attrs:{icon:"el-icon-edit",type:"primary",size:"mini"},style:"font-size: 12px;"},l()(i,"style","padding:3px"),l()(i,"on",{click:function(){return s.showUpdateDepView(r,event)}}),i),["修改"]),e("el-button",(n={attrs:{icon:"el-icon-delete",type:"danger",size:"mini"},style:"font-size: 12px;"},l()(n,"style","padding:3px"),l()(n,"on",{click:function(){return s.deleteDep(r,event)}}),n),["删除"])])])}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:9}},[a("div",[a("div",{staticStyle:{"text-align":"left"}},[a("el-input",{staticStyle:{width:"400px",margin:"0px",padding:"0px"},attrs:{placeholder:"输入语料集名称搜索...",size:"mini","prefix-icon":"el-icon-search"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1),e._v(" "),a("div",[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"tree",staticStyle:{width:"400px","margin-top":"10px"},attrs:{props:e.defaultProps,data:e.treeData,"filter-node-method":e.filterNode,"default-expand-all":"","highlight-current":"","expand-on-click-node":!1,"render-content":e.renderContent},on:{"node-click":e.handleNodeClick}}),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"添加语料集",visible:e.dialogVisible,width:"25%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("span",[e._v("上级语料集")]),e._v(" "),a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.pDep,callback:function(t){e.pDep=t},expression:"pDep"}},e._l(e.allDeps,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("span",[e._v("语料集名称")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请输入语料集..."},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.addDep(t):null}},model:{value:e.depName,callback:function(t){e.depName=t},expression:"depName"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addDep}},[e._v("添加")])],1)])],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"修改语料集",visible:e.updateVisible,width:"25%"},on:{"update:visible":function(t){e.updateVisible=t}}},[a("div",[a("span",[e._v("上级语料集")]),e._v(" "),a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.vCorpus,callback:function(t){e.vCorpus=t},expression:"vCorpus"}},e._l(e.allDeps,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("span",[e._v("语料集名称")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请输入语料集..."},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.updateCorpus(t):null}},model:{value:e.corpusName,callback:function(t){e.corpusName=t},expression:"corpusName"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.updateVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.updateCorpus}},[e._v("修改")])],1)])],1)],1)])]),e._v(" "),a("el-col",{staticStyle:{"margin-top":"-25px"},attrs:{span:12}},[a("h4",[e._v("语料列表")]),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-input",{staticStyle:{width:"220px",margin:"-25px 0px 0px 0px",padding:"0px"},attrs:{placeholder:"输入语料搜索...",size:"mini","prefix-icon":"el-icon-search",onkeydown:e.loadEmps},model:{value:e.searchWords,callback:function(t){e.searchWords=t},expression:"searchWords"}}),e._v(" "),a("el-button",{staticStyle:{"font-size":"12px",padding:"6px"},attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.loadEmps}},[e._v("搜索")])],1),e._v(" "),a("div",{staticStyle:{"margin-top":"0px"}},[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center",height:"45px"}},[a("div",{staticStyle:{"align-content":"center","font-size":"12px"}},[a("el-button",{staticStyle:{"font-size":"12px",padding:"6px"},attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:e.addDataWin}},[e._v("添加")]),e._v(" "),a("el-button",{staticStyle:{"font-size":"12px",padding:"6px"},attrs:{icon:"el-icon-edit",type:"primary",size:"mini"},on:{click:e.updateDataWin}},[e._v("修改")]),e._v(" "),a("el-button",{staticStyle:{"font-size":"12px",padding:"6px"},attrs:{icon:"el-icon-delete",type:"primary",size:"mini"},on:{click:e.deleteData}},[e._v("删除")])],1)])],1),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("transition",{attrs:{name:"slide-fade"}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"tb",staticStyle:{width:"120%"},attrs:{data:e.emps,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange,select:e.changeFun,"select-all":e.changeFun,"row-click":e.clickRow}},[a("el-table-column",{attrs:{type:"selection",prop:"id",width:"35"}}),e._v(" "),a("el-table-column",{attrs:{prop:"index",align:"center",fixed:"",label:"编号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"content",align:"left",fixed:"",label:"语料"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.emps.length>0?a("el-button",{attrs:{type:"text",size:"mini",disabled:0==e.multipleSelection.length}}):e._e(),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"添加语料",visible:e.addDataVisible,width:"40%"},on:{"update:visible":function(t){e.addDataVisible=t}}},[a("div",{staticStyle:{"margin-top":"5px"}},[a("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请输入语料,每回车为一条语料..."},model:{value:e.corpusData,callback:function(t){e.corpusData=t},expression:"corpusData"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.addDataVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addDataToStore}},[e._v("添加")])],1)])],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"修改语料",visible:e.updateDataVisible,width:"40%"},on:{"update:visible":function(t){e.updateDataVisible=t}}},[a("div",{staticStyle:{"margin-top":"5px"}},[a("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:e.updateCorpusData,callback:function(t){e.updateCorpusData=t},expression:"updateCorpusData"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.updateDataVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.updateDataToStore}},[e._v("修改")])],1)])],1)])],1)},staticRenderFns:[]};var d=a("VU/8")(o,r,!1,function(e){a("HaNg")},null,null);t.default=d.exports},"2eoi":function(e,t,a){var i={"./Home.vue":"lO7g","./Login.vue":"xJsL","./chat/Chat.vue":"T5Y6","./chat/FriendChat.vue":"ngyR","./chat/Notification.vue":"Gpj+","./corpus/CorpusMana.vue":"2RQO","./emp/EmpAdv.vue":"ABUp","./emp/EmpBasic.vue":"+sH/","./menu/MenuBasic.vue":"hzgs","./personnel/PerEc.vue":"GZY3","./personnel/PerEmp.vue":"XGB5","./personnel/PerMv.vue":"F1RE","./personnel/PerSalary.vue":"nSLl","./personnel/PerTrain.vue":"K5YU","./report/TaskExecute.vue":"iULA","./report/TaskMytask.vue":"StUa","./report/TaskPublish.vue":"3uc5","./report/TaskPull.vue":"H4si","./report/TaskPush.vue":"9d8p","./report/TaskPush1.vue":"5gYQ","./report/TaskReceive.vue":"x+ZA","./salary/SalMonth.vue":"R27X","./salary/SalSearch.vue":"mNON","./salary/SalSob.vue":"VnTu","./salary/SalSobCfg.vue":"YbFX","./salary/SalTable.vue":"tQt2","./statistic/StaReport.vue":"PRwH","./statistics/StaAll.vue":"4/RD","./statistics/StaAssess.vue":"0YpC","./statistics/StaPers.vue":"97Ts","./statistics/StaRecord.vue":"Tlrr","./statistics/StaReport.vue":"gxQO","./statistics/StaReportCount.vue":"o57p","./statistics/StaScore.vue":"r3HF","./statistics/basic/TaskReportByUser.vue":"lPmX","./statistics/basic/TaskReportBydept.vue":"5NnH","./system/SysBasic.vue":"fc7a","./system/SysBasic11.vue":"tqSc","./system/SysCfg.vue":"ubks","./system/SysData.vue":"UK/j","./system/SysHr.vue":"ewEk","./system/SysInit.vue":"agXO","./system/SysLog.vue":"ZDkW","./system/SysRole.vue":"HnHe","./system/basic/DepMana.vue":"FvOz","./system/basic/ECMana.vue":"5xQo","./system/basic/JobTitleMana.vue":"c98W","./system/basic/PosMana.vue":"/LNZ","./system/basic/RoleMana.vue":"ZBaB"};function l(e){return a(n(e))}function n(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}l.keys=function(){return Object.keys(i)},l.resolve=n,e.exports=l,l.id="2eoi"},"3uc5":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n=a("0ZYY"),s=a.n(n),o=(a("npPj"),{components:{Treeselect:s.a},data:function(){return{normalizer:function(e){return{id:e.id,label:e.name,children:e.children}},deptids:null,keywords:"",menuName:"",treeLoading:!1,dialogVisible:!1,showOrHidePop:!1,depTextColor:"#c0c4cc",allMenus:[],depts:[],type:[],typeAfter:[{id:"1",value:"直发"},{id:"2",value:"转发"},{id:"3",value:"点赞"},{id:"4",value:"评论"}],score:[{id:"1",value:"1"},{id:"2",value:"2"},{id:"3",value:"3"},{id:"4",value:"4"},{id:"5",value:"5"}],defaultProps:{label:"name",isLeaf:"leaf",children:"children"},reportForm:{typeName:"",name:"",type:[],typeAfter:[],address:"",deptids:null,number:"",score:[],endtime:"",mark:"",notice:""},rules:{name:[{required:!0,message:"请输入任务名称",trigger:"blur"},{min:3,max:100,trigger:"blur"}]}}},mounted:function(){this.initData(),this.treeLoading=!0,this.loadAllDeps()},watch:{keywords:function(e){this.$refs.tree.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},handleNodeClick:function(e){console.log("click data:"+l()(e)),this.reportForm.departmentName+=e.name+",",this.reportForm.deptids+=e.id,this.showOrHidePop=!1,this.depTextColor="#606266"},initData:function(){var e=this;this.getRequest("/api/ndept/deptTree/1").then(function(t){var a=t.data;t&&200==t.status&&(e.depts=a.data)})},showDepTree:function(){this.showOrHidePop=!this.showOrHidePop},onSubmit:function(e){this.tableLoading=!0;var t=this;console.log("form ****** :"+l()(e)),this.postRequestJson("api/report/publishReport",this.reportForm).then(function(e){e&&200==e.status&&(console.log("ssssssssssssssss"+l()(e)),t.$message({type:e.status,message:e.msg}),t.emptyFormData(),t.loadEmps())})},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/report/page?page="+this.currentPage+"&limit=10&name="+this.keywords).then(function(a){if(e.tableLoading=!1,a&&200==a.data.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},cancleEdit:function(){},cancleEditForm:function(){this.emptyFormData()},emptyFormData:function(){this.reportForm={typeName:"",name:"",type:[],typeAfter:[],address:"",deptids:null,number:"",score:[],endtime:"",mark:"",notice:""}},loadAllDeps:function(){var e=this;this.getRequest("/api/reportType/getType").then(function(t){t&&200==t.status&&(e.type=t.data.data.rows)})}}}),r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:12}}),e._v(" "),a("el-col",{attrs:{span:12}},[a("h3",[e._v("发布任务")]),e._v(" "),a("el-form",{ref:"reportForm",attrs:{model:e.reportForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"任务名称：",prop:"name"}},[a("el-input",{model:{value:e.reportForm.name,callback:function(t){e.$set(e.reportForm,"name",t)},expression:"reportForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务类型：",prop:"typename"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择平台",prop:"type"},model:{value:e.reportForm.type,callback:function(t){e.$set(e.reportForm,"type",t)},expression:"reportForm.type"}},e._l(e.type,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})})),e._v(" "),a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择类型",prop:"typeAfter"},model:{value:e.reportForm.typeAfter,callback:function(t){e.$set(e.reportForm,"typeAfter",t)},expression:"reportForm.typeAfter"}},e._l(e.typeAfter,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"任务链接：",prop:"address"}},[a("el-input",{model:{value:e.reportForm.address,callback:function(t){e.$set(e.reportForm,"address",t)},expression:"reportForm.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"下发对象：",prop:"deptids",width:"400"}},[a("treeselect",{attrs:{multiple:!0,options:e.depts,placeholder:"请选择部门",normalizer:e.normalizer},model:{value:e.reportForm.deptids,callback:function(t){e.$set(e.reportForm,"deptids",t)},expression:"reportForm.deptids"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"执行条数：",prop:"number"}},[a("el-input",{attrs:{number:""},model:{value:e.reportForm.number,callback:function(t){e.$set(e.reportForm,"number",t)},expression:"reportForm.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"每条分值：",prop:"score"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择类型"},model:{value:e.reportForm.score,callback:function(t){e.$set(e.reportForm,"score",t)},expression:"reportForm.score"}},e._l(e.score,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"任务描述：",prop:"mark"}},[a("el-input",{model:{value:e.reportForm.mark,callback:function(t){e.$set(e.reportForm,"mark",t)},expression:"reportForm.mark"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"截止时间：",prop:"endtime"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"请选择截止时间"},model:{value:e.reportForm.endtime,callback:function(t){e.$set(e.reportForm,"endtime",t)},expression:"reportForm.endtime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"通知方式：",prop:"notice"}},[a("el-radio-group",{model:{value:e.reportForm.notice,callback:function(t){e.$set(e.reportForm,"notice",t)},expression:"reportForm.notice"}},[a("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"1"}},[e._v("短信通知")]),e._v(" "),a("el-radio",{staticStyle:{"margin-left":"15px"},attrs:{label:"2"}},[e._v("微信通知")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit(e.reportForm)}}},[e._v("发布")]),e._v(" "),a("el-button",{on:{click:e.cancleEditForm}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(o,r,!1,function(e){a("wExx")},null,null);t.default=d.exports},"4/RD":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n=a("bOdI"),s=a.n(n),o={data:function(){var e;return e={headers:{"Content-Type":"multipart/form-data"},fileList2:[{name:"food.jpeg",url:"http://localhost:8089/upload/931065a2-44ac-449e-a8e5-1bbfbaa58295.jpg"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}],radio2:3,dialogImageUrl:"",dialogVisible:!1,keywords:"",menuName:"",treeLoading:!1},s()(e,"dialogVisible",!1),s()(e,"allMenus",[]),s()(e,"pDep",""),s()(e,"treeData",[]),s()(e,"defaultProps",{label:"name",isLeaf:"leaf",children:"children"}),s()(e,"pushForm",{checkd:!0,name:"",enabled:!1,type:[],path:"",url:"",component:"",iconCls:""}),s()(e,"rules",{name:[{required:!0,message:"请输入菜单名称",trigger:"blur"},{min:3,max:100,trigger:"blur"}]}),e},mounted:function(){this.treeLoading=!0,this.loadTreeData(),this.loadAllDeps()},watch:{keywords:function(e){this.$refs.tree.filter(e)}},methods:{handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(){console.log("文件数量超出")},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},handleNodeClick:function(e){console.log("click data:"+l()(e)),this.pushForm.id=e.id,this.pushForm.name=e.name,this.pushForm.path=e.path,this.pushForm.url=e.url,this.pushForm.component=e.component,this.pushForm.iconCls=e.iconCls,this.pushForm.parentId=e.parentId,this.pushForm.enabled=e.enabled,this.pushForm.upDep=e.parentId},onSubmit:function(){console.log("submit!")},loadTreeData:function(){var e=this;this.getRequest("/api/menu/menuTree/-1").then(function(t){console.log("resp loadTreeData："+l()(t.data)),e.treeLoading=!1,t&&200==t.status&&(e.treeData=t.data)})},setDataToTree:function(e,t,a){console.log("respData："+l()(a));for(var i=0;i<e.length;i++){var n=e[i];if(n.id==t)return void(e[i].children=e[i].children.concat(a));this.setDataToTree(n.children,t,a)}},addDep:function(){var e=this;this.dialogVisible=!1,this.treeLoading=!0,this.postRequest("/system/basic/dep",{name:this.menuName,parentId:this.pDep}).then(function(t){if(e.treeLoading=!1,t&&200==t.status){var a=t.data;e.menuName="",e.$message({type:a.status,message:"添加成功!"}),e.setDataToTree(e.treeData,e.pDep,a.msg)}})},loadAllDeps:function(){var e=this;this.getRequest("/api/menu/all").then(function(t){t&&200==t.status&&(console.log("resp all："+t.data),e.allMenus=t.data)})},showAddDepView:function(e,t){this.loadAllDeps(),this.dialogVisible=!0,this.pDep=e.id,t.stopPropagation()},deleteDep:function(e,t){var a=this;e.children.length>0?this.$message({message:"该菜单下尚有其他子菜单，不能被删除!",type:"warning"}):this.$confirm("删除["+e.name+"]菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.treeLoading=!0,a.deleteRequest("/system/basic/dep/"+e.id).then(function(t){if(a.treeLoading=!1,t&&200==t.status){var i=t.data;a.$message({message:i.msg,type:i.status}),a.deleteLocalDep(a.treeData,e)}})}).catch(function(){a.$message({type:"info",message:"已取消删除"})}),t.stopPropagation()},deleteLocalDep:function(e,t){for(var a=0;a<e.length;a++){var i=e[a];if(i.id==t.id)return void e.splice(a,1);this.deleteLocalDep(i.children,t)}},renderContent:function(e,t){var a,i,l=this,n=t.node,o=t.data;t.store;return e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[n.label])]),e("span",[e("el-button",(a={style:"font-size: 12px;",attrs:{type:"primary",size:"mini"}},s()(a,"style","padding:3px"),s()(a,"on",{click:function(){return l.showAddDepView(o,event)}}),a),["添加菜单"]),e("el-button",(i={style:"font-size: 12px;",attrs:{type:"danger",size:"mini"}},s()(i,"style","padding:3px"),s()(i,"on",{click:function(){return l.deleteDep(o,event)}}),i),["删除菜单"])])])}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:12}},[a("el-form",{ref:"pushForm",attrs:{model:e.pushForm,rules:e.rules,"label-width":"100px"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://localhost:8089/upload","on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-exceed":e.handleExceed,"file-list":e.fileList2,multiple:!0,headers:e.headers,limit:3,"list-type":"picture"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(o,r,!1,function(e){a("PkJd")},null,null);t.default=d.exports},"4/z8":function(e,t){},"4axH":function(e,t){},"5NnH":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n=a("0ZYY"),s=a.n(n),o=(a("npPj"),{components:{Treeselect:s.a},data:function(){return{normalizer:function(e){return{id:e.id,label:e.name,children:e.children}},month:[{id:""}],data:[],depts:[],faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",totalCount:-1,currentPage:1,dialogVisible:!1,tableLoading:!1,advanceSearchViewVisible:!1,showOrHidePop:!1,showOrHidePop2:!1,missiontype:[],reportForm:{starttime:"",endtime:"",deptids:null}}},mounted:function(){this.getdepttree(),this.initDate(),this.loadEmps(),console.log(this)},methods:{initDate:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,i=t+"-"+a+"-"+e.getDate();this.reportForm.endtime=i,this.reportForm.starttime=t+"-"+a+"-1",this.month.id=a,console.log("***   "+this.month.id)},nowMonth:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();a<10&&(a="0"+a),i<10&&(i="0"+i);var l=t+"-"+a+"-"+i;this.reportForm.endtime=l,this.reportForm.starttime=t+"-"+a+"-1",this.loadEmps()},lastMonth:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1-1;a<10&&(a="0"+a);var i=new Date(t,a,0);console.log("最后一天"+i.getDate()),this.reportForm.starttime=t+"-"+a+"-01",this.reportForm.endtime=t+"-"+a+"-"+i.getDate(),this.loadEmps()},last2Month:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1-2;a<10&&(a="0"+a);var i=new Date(t,a,0);console.log("最后一天"+i.getDate()),this.reportForm.starttime=t+"-"+a+"-01",this.reportForm.endtime=t+"-"+a+"-"+i.getDate(),this.loadEmps()},last3Month:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1-3;a<10&&(a="0"+a);var i=new Date(t,a,0);console.log("最后一天"+i.getDate()),this.reportForm.starttime=t+"-"+a+"-01",this.reportForm.endtime=t+"-"+a+"-"+i.getDate(),this.loadEmps()},getmissiontype:function(){var e=this;this.getRequest("/api/reportType/getmytaskmissiontype?userid=1").then(function(t){var a=t.data;t&&200==t.status&&(e.missiontype=a.data.rows,console.log("*********"))})},getdepttree:function(){var e=this;this.getRequest("/api/ndept/deptTree/1").then(function(t){var a=t.data;t&&200==t.status&&(e.depts=a.data,console.log("*********"+l()(e.depts)))})},searchmission:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/reportTask/byDeptReport?page="+this.currentPage+"&limit=10&userid=1&deptid="+this.reportForm.deptids+"&starttime="+this.reportForm.starttime+"&endtime="+this.reportForm.endtime).then(function(a){if(e.tableLoading=!1,a&&200==a.data.status){var i=a.data.data;t.data=i.rows,t.totalCount=i.total}})}}}),r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","font-size":"12px"}},[a("div",{staticStyle:{width:"300px"}},[a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.last3Month}},[e._v(e._s(this.month.id-3)+"月")]),e._v(" "),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.last2Month}},[e._v(e._s(this.month.id-2)+"月")]),e._v(" "),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.lastMonth}},[e._v(e._s(this.month.id-1)+"月")]),e._v(" "),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.nowMonth}},[e._v("当月")])],1),e._v(" "),a("div",{staticStyle:{width:"800px"}},[a("span",{staticClass:"demonstration"},[e._v("从")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.reportForm.starttime,callback:function(t){e.$set(e.reportForm,"starttime",t)},expression:"reportForm.starttime"}}),e._v(" "),a("span",{staticClass:"demonstration"},[e._v("到")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date","value-format":"yyyy-MM-dd",size:"mini",placeholder:"结束日期"},model:{value:e.reportForm.endtime,callback:function(t){e.$set(e.reportForm,"endtime",t)},expression:"reportForm.endtime"}})],1),e._v(" "),a("div",{staticStyle:{width:"200px"}}),e._v(" "),a("treeselect",{staticStyle:{width:"200px"},attrs:{multiple:!0,options:e.depts,placeholder:"请选择地区",normalizer:e.normalizer},model:{value:e.reportForm.deptids,callback:function(t){e.$set(e.reportForm,"deptids",t)},expression:"reportForm.deptids"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.searchmission}},[e._v("搜索")])],1),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("transition",{attrs:{name:"slide-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.advanceSearchViewVisible,expression:"advanceSearchViewVisible"}],staticStyle:{"margin-bottom":"10px",border:"1px","border-radius":"5px","border-style":"solid",padding:"5px 0px 5px 0px","box-sizing":"border-box","border-color":"#20a0ff"}})]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.data,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"id",align:"left",fixed:"",label:"编号",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",width:"400",align:"left",label:"部门"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"执行条数",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"score",width:"300",align:"left",label:"得分"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[a("el-button",{attrs:{type:"text",size:"mini",disabled:""}}),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1)],1)},staticRenderFns:[]};var d=a("VU/8")(o,r,!1,function(e){a("RM1G")},null,null);t.default=d.exports},"5gYQ":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n=a("bOdI"),s=a.n(n),o={data:function(){var e;return e={files:[],imageUrl:"",dialogImageUrl:"",dialogVisible:!1,keywords:"",menuName:"",treeLoading:!1},s()(e,"dialogVisible",!1),s()(e,"typeBig",[]),s()(e,"pDep",""),s()(e,"treeData",[]),s()(e,"defaultProps",{label:"name",isLeaf:"leaf",children:"children"}),s()(e,"pushForm",{type:"",typeBig:[],radio2:3,address:"",markto:"",files:[],component:""}),s()(e,"rules",{typeBig:[{required:!0,message:"必填:类型详细",trigger:"change"}],address:[{required:!0,message:"必填:人物地址",trigger:"blur"}],markto:[{required:!0,message:"必填:任务描述",trigger:"blur"}]}),e},mounted:function(){this.treeLoading=!0,this.loadTreeData(),this.loadtypeBig()},watch:{keywords:function(e){this.$refs.tree.filter(e)}},methods:{focus:function(){console.log("获取焦点")},clickHandler:function(e){if(3!=e)if(6!=e)if(9!=e);else{t=this;this.getRequest("/api/reportType/getBigType?type=27").then(function(e){e&&200==e.status&&(t.typeBig=e.data.data)})}else{var t=this;this.getRequest("/api/reportType/getBigType?type=10").then(function(e){e&&200==e.status&&(t.typeBig=e.data.data)})}else{var t=this;this.getRequest("/api/reportType/getBigType?type=2").then(function(e){e&&200==e.status&&(t.typeBig=e.data.data)})}},emptyFormData:function(){this.pushForm.radio2=3,this.pushForm.address="",this.pushForm.markto="",this.pushForm.typeBig=""},handleRemove:function(e,t){console.log(e,t)},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return t||this.$message.error("上传图片只能是 JPG或者PNG格式!"),a||this.$message.error("上传图片大小不能超过 2MB!"),t&&a},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},handleNodeClick:function(e){},onSubmit:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return!1;t.tableLoading=!0;var i=t;console.log("submit form:"+l()(e)),t.postRequestJson("api/reportTask/taskReport",t.pushForm).then(function(e){e&&200==e.status?(console.log(l()(e)),i.$message({type:e.data.status,message:"任务上报"+e.data.msg}),i.emptyFormData()):i.$message({type:e.data.status,message:e.data.message})})})},loadTreeData:function(){var e=this;this.getRequest("/api/menu/menuTree/-1").then(function(t){e.treeLoading=!1,t&&200==t.status&&(e.treeData=t.data)})},setDataToTree:function(e,t,a){for(var i=0;i<e.length;i++){var l=e[i];if(l.id==t)return void(e[i].children=e[i].children.concat(a));this.setDataToTree(l.children,t,a)}},addDep:function(){var e=this;this.dialogVisible=!1,this.treeLoading=!0,this.postRequest("/system/basic/dep",{name:this.menuName,parentId:this.pDep}).then(function(t){if(e.treeLoading=!1,t&&200==t.status){var a=t.data;e.menuName="",e.$message({type:a.status,message:"添加成功!"}),e.setDataToTree(e.treeData,e.pDep,a.msg)}})},loadtypeBig:function(){var e=this;this.getRequest("/api/reportType/getBigType?type=2").then(function(t){t&&200==t.status&&(e.typeBig=t.data.data)})},showAddDepView:function(e,t){this.loadAllDeps(),this.dialogVisible=!0,this.pDep=e.id,t.stopPropagation()},deleteDep:function(e,t){var a=this;e.children.length>0?this.$message({message:"该菜单下尚有其他子菜单，不能被删除!",type:"warning"}):this.$confirm("删除["+e.name+"]菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.treeLoading=!0,a.deleteRequest("/system/basic/dep/"+e.id).then(function(t){if(a.treeLoading=!1,t&&200==t.status){var i=t.data;a.$message({message:i.msg,type:i.status}),a.deleteLocalDep(a.treeData,e)}})}).catch(function(){a.$message({type:"info",message:"已取消删除"})}),t.stopPropagation()},deleteLocalDep:function(e,t){for(var a=0;a<e.length;a++){var i=e[a];if(i.id==t.id)return void e.splice(a,1);this.deleteLocalDep(i.children,t)}},renderContent:function(e,t){var a,i,l=this,n=t.node,o=t.data;t.store;return e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[n.label])]),e("span",[e("el-button",(a={style:"font-size: 12px;",attrs:{type:"primary",size:"mini"}},s()(a,"style","padding:3px"),s()(a,"on",{click:function(){return l.showAddDepView(o,event)}}),a),["添加菜单"]),e("el-button",(i={style:"font-size: 12px;",attrs:{type:"danger",size:"mini"}},s()(i,"style","padding:3px"),s()(i,"on",{click:function(){return l.deleteDep(o,event)}}),i),["删除菜单"])])])}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:12}},[a("h3",[e._v("任务上报")]),e._v(" "),a("el-form",{ref:"pushForm",attrs:{model:e.pushForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"任务类型：",prop:"type"}},[a("el-radio-group",{on:{change:e.clickHandler},model:{value:e.pushForm.radio2,callback:function(t){e.$set(e.pushForm,"radio2",t)},expression:"pushForm.radio2"}},[a("el-radio",{attrs:{label:3}},[e._v("日常任务")]),e._v(" "),a("el-radio",{attrs:{label:6}},[e._v("特色任务")]),e._v(" "),a("el-radio",{attrs:{label:9}},[e._v("舆情上报")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"类型详细：",prop:"typeBig"}},[a("el-select",{staticStyle:{width:"590px"},attrs:{placeholder:"请选择"},model:{value:e.pushForm.typeBig,callback:function(t){e.$set(e.pushForm,"typeBig",t)},expression:"pushForm.typeBig"}},e._l(e.typeBig,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"任务地址：",prop:"address"}},[a("el-input",{model:{value:e.pushForm.address,callback:function(t){e.$set(e.pushForm,"address",t)},expression:"pushForm.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务描述：",prop:"markto"}},[a("el-input",{attrs:{onfocus:e.focus},model:{value:e.pushForm.markto,callback:function(t){e.$set(e.pushForm,"markto",t)},expression:"pushForm.markto"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传截图：",prop:"component"}},[a("el-upload",{attrs:{action:"/api/file/upload","list-type":"picture-card","on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,"on-remove":e.handleRemove,"file-list":e.files}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("pushForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.emptyFormData}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(o,r,!1,function(e){a("qaox")},null,null);t.default=d.exports},"6aER":function(e,t){},"97Ts":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    人事信息统计\n  ")])])}]},l=a("VU/8")(null,i,!1,null,null,null);t.default=l.exports},"9d8p":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n=a("bOdI"),s=a.n(n),o={data:function(){var e;return e={lastReportId:"",fileList:[],imageUrl:"",dialogImageUrl:"",dialogVisible:!1,keywords:"",menuName:"",treeLoading:!1},s()(e,"dialogVisible",!1),s()(e,"typeBig",[]),s()(e,"pDep",""),s()(e,"treeData",[]),s()(e,"defaultProps",{label:"name",isLeaf:"leaf",children:"children"}),s()(e,"pushForm",{type:"",typeBig:[],radio2:3,address:"",markto:"",fileList:[],number:0,component:""}),s()(e,"rules",{typeBig:[{required:!0,message:"必填:类型详细",trigger:"change"}],address:[{required:!0,message:"必填:任务地址",trigger:"blur"}],markto:[{required:!0,message:"必填:任务描述",trigger:"blur"}]}),e},mounted:function(){this.treeLoading=!0,this.loadtypeBig()},watch:{keywords:function(e){this.$refs.tree.filter(e)}},methods:{clickHandler:function(e){if(3!=e)if(6!=e)if(9!=e);else{t=this;this.getRequest("/api/reportType/getBigType?type=27").then(function(e){e&&200==e.status&&(t.typeBig=e.data.data)})}else{var t=this;this.getRequest("/api/reportType/getBigType?type=10").then(function(e){e&&200==e.status&&(t.typeBig=e.data.data)})}else{var t=this;this.getRequest("/api/reportType/getBigType?type=2").then(function(e){e&&200==e.status&&(t.typeBig=e.data.data)})}},emptyFormData:function(){this.pushForm.radio2=3,this.pushForm.address="",this.pushForm.markto="",this.pushForm.typeBig="",this.pushForm.component="",this.$refs.upload.clearFiles()},uploadOnSuccess:function(e,t,a){console.log("*****"+l()(e))},uploadOnError:function(){this.$message.warning("图片上传失败!")},beforeUpload:function(e){var t=e.name.split(".");return"jpg"===t[1]||"png"===t[1]?e:(this.$message.error("上传文件只能是 jpg/png 格式!"),!1)},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},onSubmit:function(e){if(this.$refs.upload.submit(),this.pushForm.number=this.$refs.upload.uploadFiles.length,""==e.typeBig||""==e.address||""==e.markto)return!1;if(0!=this.pushForm.number)this.submitFormData(e);else{this.$message.error("请选择图片")}},submitFormData:function(e){this.tableLoading=!0;var t=this;this.postRequestJson("api/reportTask/add",this.pushForm).then(function(e){if(e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.emptyFormData()}else t.$message({type:201,message:"任务上报失败!"})})},loadTreeData:function(){var e=this;this.getRequest("/api/menu/menuTree/-1").then(function(t){e.treeLoading=!1,t&&200==t.status&&(e.treeData=t.data)})},setDataToTree:function(e,t,a){for(var i=0;i<e.length;i++){var l=e[i];if(l.id==t)return void(e[i].children=e[i].children.concat(a));this.setDataToTree(l.children,t,a)}},addDep:function(){var e=this;this.dialogVisible=!1,this.treeLoading=!0,this.postRequest("/system/basic/dep",{name:this.menuName,parentId:this.pDep}).then(function(t){if(e.treeLoading=!1,t&&200==t.status){var a=t.data;e.menuName="",e.$message({type:a.status,message:"添加成功!"}),e.setDataToTree(e.treeData,e.pDep,a.msg)}})},loadtypeBig:function(){var e=this;this.getRequest("/api/reportType/getBigType?type=2").then(function(t){t&&200==t.status&&(e.typeBig=t.data.data,console.log("typeBig  "+l()(e.typeBig)))})},showAddDepView:function(e,t){this.loadAllDeps(),this.dialogVisible=!0,this.pDep=e.id,t.stopPropagation()},deleteDep:function(e,t){var a=this;e.children.length>0?this.$message({message:"该菜单下尚有其他子菜单，不能被删除!",type:"warning"}):this.$confirm("删除["+e.name+"]菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.treeLoading=!0,a.deleteRequest("/system/basic/dep/"+e.id).then(function(t){if(a.treeLoading=!1,t&&200==t.status){var i=t.data;a.$message({message:i.msg,type:i.status}),a.deleteLocalDep(a.treeData,e)}})}).catch(function(){a.$message({type:"info",message:"已取消删除"})}),t.stopPropagation()},deleteLocalDep:function(e,t){for(var a=0;a<e.length;a++){var i=e[a];if(i.id==t.id)return void e.splice(a,1);this.deleteLocalDep(i.children,t)}}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:12}},[a("h3",[e._v("任务上报")]),e._v(" "),a("el-form",{ref:"pushForm",attrs:{model:e.pushForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"任务类型：",prop:"type"}},[a("el-radio-group",{on:{change:e.clickHandler},model:{value:e.pushForm.radio2,callback:function(t){e.$set(e.pushForm,"radio2",t)},expression:"pushForm.radio2"}},[a("el-radio",{attrs:{label:3}},[e._v("日常任务")]),e._v(" "),a("el-radio",{attrs:{label:6}},[e._v("特色任务")]),e._v(" "),a("el-radio",{attrs:{label:9}},[e._v("舆情上报")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"类型详细：",prop:"typeBig"}},[a("el-select",{staticStyle:{width:"590px"},attrs:{placeholder:"请选择"},model:{value:e.pushForm.typeBig,callback:function(t){e.$set(e.pushForm,"typeBig",t)},expression:"pushForm.typeBig"}},e._l(e.typeBig,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"任务地址：",prop:"address"}},[a("el-input",{model:{value:e.pushForm.address,callback:function(t){e.$set(e.pushForm,"address",t)},expression:"pushForm.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"任务描述：",prop:"markto"}},[a("el-input",{model:{value:e.pushForm.markto,callback:function(t){e.$set(e.pushForm,"markto",t)},expression:"pushForm.markto"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传截图：",prop:"component"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{name:"file",action:"/api/file/upload","on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-success":e.uploadOnSuccess,"on-error":e.uploadOnError,"before-upload":e.beforeUpload,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit(e.pushForm)}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.emptyFormData}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(o,r,!1,function(e){a("hW8l")},null,null);t.default=d.exports},ABUp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("高级资料")])])}]},l=a("VU/8")(null,i,!1,null,null,null);t.default=l.exports},EHy3:function(e,t){},F1RE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("员工调动")])])}]},l=a("VU/8")(null,i,!1,null,null,null);t.default=l.exports},GZY3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("员工奖惩")])])}]},l=a("VU/8")(null,i,!1,null,null,null);t.default=l.exports},H4si:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{fileUploadBtnText:"导入数据",emps:[],ptime:"",faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",dialogTitle:"",multipleSelection:[],depTextColor:"#c0c4cc",totalCount:-1,currentPage:1,deps:[],defaultProps:{label:"name",isLeaf:"leaf",children:"children"},dialogVisible:!1,tableLoading:!1,advanceSearchViewVisible:!1,showOrHidePop:!1,showOrHidePop2:!1,emp:{ptime:"",endtime:"",name:"",address:""},rules:{}}},mounted:function(){this.loadEmps()},methods:{exportEmps:function(){window.open("/api/report/exportReports?page=&size=&name="+this.keywords,"_parent")},fileUploadSuccess:function(e,t,a){e&&this.$message({type:e.status,message:e.msg}),this.loadEmps(),this.fileUploadBtnText="导入数据"},fileUploadError:function(e,t,a){this.$message({type:"error",message:"导入失败!"}),this.fileUploadBtnText="导入数据"},beforeFileUpload:function(e){this.fileUploadBtnText="正在导入"},handleSelectionChange:function(e){this.multipleSelection=e},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadReports:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/report/getPublish?ptime="+this.emp.ptime+"&endtime="+this.emp.endtime+"&name="+this.emp.name+"&page="+this.currentPage+"&limit=10").then(function(a){if(e.tableLoading=!1,a&&200==a.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/report/getPublish?ptime="+this.emp.ptime+"&endtime="+this.emp.endtime+"&name="+this.emp.name+"&page="+this.currentPage+"&limit=10").then(function(a){if(e.tableLoading=!1,a&&200==a.data.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},cancelEidt:function(){this.dialogVisible=!1,this.emptyEmpData()},showDepTree:function(){this.showOrHidePop=!this.showOrHidePop},showDepTree2:function(){this.showOrHidePop2=!this.showOrHidePop2},handleNodeClick:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop=!1,this.depTextColor="#606266"},handleNodeClick2:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop2=!1,this.depTextColor="#606266"},emptyEmpData:function(){this.emp={name:"",address:""}}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{width:"800px","font-size":"12px"}},[a("span",{staticClass:"demonstration"},[e._v("从")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.emp.ptime,callback:function(t){e.$set(e.emp,"ptime",t)},expression:"emp.ptime"}}),e._v(" "),a("span",{staticClass:"demonstration"},[e._v("到")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date","value-format":"yyyy-MM-dd",size:"mini",placeholder:"结束日期"},model:{value:e.emp.endtime,callback:function(t){e.$set(e.emp,"endtime",t)},expression:"emp.endtime"}}),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入任务名称",size:"mini",clearable:""},model:{value:e.emp.name,callback:function(t){e.$set(e.emp,"name",t)},expression:"emp.name"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.loadReports}},[e._v("搜索")])],1),e._v(" "),a("div",{staticStyle:{"margin-left":"5px","margin-right":"20px",display:"inline"}},[a("el-upload",{staticStyle:{display:"inline"},attrs:{"show-file-list":!1,accept:"application/vnd.ms-excel",action:"/employee/basic/importEmp","on-success":e.fileUploadSuccess,"on-error":e.fileUploadError,disabled:"正在导入"==e.fileUploadBtnText,"before-upload":e.beforeFileUpload}},[a("el-button",{attrs:{size:"mini",type:"success",loading:"正在导入"==e.fileUploadBtnText}},[a("i",{staticClass:"fa fa-lg fa-level-up",staticStyle:{"margin-right":"5px"}}),e._v("\n            "+e._s(e.fileUploadBtnText)+"\n          ")])],1),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportEmps}},[a("i",{staticClass:"fa fa-lg fa-level-down",staticStyle:{"margin-right":"5px"}}),e._v("导出数据\n        ")])],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"id",align:"left",fixed:"",label:"编号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"left",fixed:"",label:"任务名称",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",width:"180",align:"left",label:"任务链接"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{color:"cadetblue"},attrs:{target:"_blank",href:t.row.address}},[e._v(e._s(t.row.address))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"发布人",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",width:"100",align:"left",label:"任务类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ptime",width:"200",align:"left",label:"发布时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endtime",width:"200",label:"截止时间"}}),e._v(" "),a("el-table-column",{attrs:{width:"80",prop:"number",label:"任务数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mark",width:"240",label:"任务描述"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.emps.length>0?a("el-button",{attrs:{type:"text",size:"mini",disabled:0==e.multipleSelection.length}}):e._e(),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1)],1)},staticRenderFns:[]};var n=a("VU/8")(i,l,!1,function(e){a("kh7o")},null,null);t.default=n.exports},HaNg:function(e,t){},HnHe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),n=a("0ZYY"),s=a.n(n),o=(a("npPj"),{components:{Treeselect:s.a},data:function(){return{normalizer:function(e){return{id:e.id,label:e.name,children:e.children}},keywords:"",menuName:"",treeLoading:!1,dialogVisible:!1,allMenus:[],checkedmenu:[],pDep:"",treeData:[],accountlist:[],deptidselect:"",checkedroleid:"",test:null,rolelist:[],menulist:[],rolemenulist:[],departments:[],departments2:[],tableLoading:!1,currentRow:null,defaultProps:{label:"name",isLeaf:"leaf",children:"children"},currentPage:1,totalCount:0,multipleSelection:[],putform1:{ids:"",checkedroleid:""},putform2:{ids:"",checkedroleid:""},menuForm:{name:"",enabled:!1,type:[],path:"",url:"",component:"",iconCls:""},rules:{name:[{required:!0,message:"请输入菜单名称",trigger:"blur"},{min:3,max:100,trigger:"blur"}]}}},mounted:function(){this.tableLoading=!0,this.treeLoading=!0,this.loadDepartments(),this.loadRoles(),this.loadMenulist(),this.loadUsers(),this.loadRoleMenu()},watch:{keywords:function(e){this.$refs.tree.filter(e)}},methods:{changecheckedrole:function(){this.changecheckedmenu()},changecheckedmenu:function(){this.checkedmenu=[];for(var e=0;e<this.rolemenulist.length;e++)this.rolemenulist[e].roleid==this.checkedroleid&&this.checkedmenu.push(this.rolemenulist[e].rightid);this.$refs.tree.setCheckedKeys(this.checkedmenu)},handleCurrentChange:function(e){this.currentRow=e,this.checkedroleid=e.roleid,this.changecheckedmenu()},currentChange:function(e){this.currentPage=e,this.loadUsers()},changeRolemenu:function(){var e=this,t=this;this.$confirm("此操作将修改角色权限关系, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var a="",i=t.$refs.tree.getCheckedKeys(),l=0;l<i.length;l++)a+=i[l]+",";e.changerolemenu(a)}).catch(function(){})},changerolemenu:function(e){this.tableLoading=!0;var t=this;this.putform2.ids=e,this.putform2.checkedroleid=this.checkedroleid,this.putRequest("/api/system/user/updaterolemenu",this.putform2).then(function(e){if(t.tableLoading=!1,e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.loadRoleMenu()}})},changeUserRole:function(){var e=this;this.$confirm("此操作将修改["+this.multipleSelection.length+"]位用户的角色权限, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t="",a=0;a<e.multipleSelection.length;a++)t+=e.multipleSelection[a].id+",";e.changerolebyid(t)}).catch(function(){})},changerolebyid:function(e){this.tableLoading=!0;var t=this;this.putform1.ids=e,this.putform1.checkedroleid=this.checkedroleid,this.putRequest("/api/system/user/changerolebyid",this.putform1).then(function(e){if(t.tableLoading=!1,e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.loadUsers()}})},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},getrolebyroleid:function(e){for(var t=0;t<this.rolelist.length;t++)if(this.rolelist[t].id==e.roleid)return this.rolelist[t].value},NodeClick1:function(e){this.deptidselect=e.id,this.loadUsers()},NodeClick2:function(e){this.menuForm.id=e.id,this.menuForm.name=e.name,this.menuForm.path=e.path,this.menuForm.url=e.url,this.menuForm.component=e.component,this.menuForm.iconCls=e.iconCls,this.menuForm.parentId=e.parentId,this.menuForm.enabled=e.enabled,this.menuForm.upDep=e.parentId},handleSelectionChange:function(e){this.multipleSelection=e},handleNodeClick:function(e){this.menuForm.id=e.id,this.menuForm.name=e.name,this.menuForm.path=e.path,this.menuForm.url=e.url,this.menuForm.component=e.component,this.menuForm.iconCls=e.iconCls,this.menuForm.parentId=e.parentId,this.menuForm.enabled=e.enabled,this.menuForm.upDep=e.parentId},onSubmit:function(){},loadUsers:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/system/user/getUsers?page="+this.currentPage+"&limit=10&deptid="+this.deptidselect).then(function(a){if(e.tableLoading=!1,a&&200==a.data.status){var i=a.data.data;t.accountlist=i.rows,t.totalCount=i.total}})},loadRoleMenu:function(){var e=this;this.getRequest("/api/system/user/getrolemenu").then(function(t){var a=t.data;t&&200==t.status&&(e.rolemenulist=a.data)})},loadRoles:function(){var e=this;this.getRequest("/api/system/user/getrolelist").then(function(t){var a=t.data;t&&200==t.status&&(e.rolelist=a.data)})},loadMenulist:function(){var e=this;this.getRequest("/api/menu/menuTree/-1").then(function(t){e.treeLoading=!1,t&&200==t.status&&(e.menulist=t.data)})},loadDepartments:function(){var e=this,t=this;this.getRequest("/api/ndept/deptTree/"+this.$router.deptid).then(function(a){var i=a.data;a&&200==a.status&&(t.departments=i.data,t.departments2=i.data,console.log(t.departments2),e.tableLoading=!1,e.treeLoading=!1)})},loadTreeData:function(){var e=this;this.getRequest("/api/menu/menuTree/-1").then(function(t){e.treeLoading=!1,t&&200==t.status&&(e.treeData=t.data)})},setDataToTree:function(e,t,a){for(var i=0;i<e.length;i++){var l=e[i];if(l.id==t)return void(e[i].children=e[i].children.concat(a));this.setDataToTree(l.children,t,a)}},addDep:function(){var e=this;this.dialogVisible=!1,this.treeLoading=!0,this.postRequestJson("/api/system/basic/dep",{name:this.menuName,parentId:this.pDep}).then(function(t){if(e.treeLoading=!1,t&&200==t.status){var a=t.data;e.menuName="",e.$message({type:a.status,message:"添加成功!"}),e.setDataToTree(e.treeData,e.pDep,a.msg)}})},loadAllDeps:function(){var e=this;this.getRequest("/api/menu/all").then(function(t){t&&200==t.status&&(e.allMenus=t.data)})},showAddDepView:function(e,t){this.loadAllDeps(),this.dialogVisible=!0,this.pDep=e.id,t.stopPropagation()},deleteDep:function(e,t){var a=this;e.children.length>0?this.$message({message:"该菜单下尚有其他子菜单，不能被删除!",type:"warning"}):this.$confirm("删除["+e.name+"]菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.treeLoading=!0,a.deleteRequest("/system/basic/dep/"+e.id).then(function(t){if(a.treeLoading=!1,t&&200==t.status){var i=t.data;a.$message({message:i.msg,type:i.status}),a.deleteLocalDep(a.treeData,e)}})}).catch(function(){a.$message({type:"info",message:"已取消删除"})}),t.stopPropagation()},deleteLocalDep:function(e,t){for(var a=0;a<e.length;a++){var i=e[a];if(i.id==t.id)return void e.splice(a,1);this.deleteLocalDep(i.children,t)}},renderContent:function(e,t){var a,i,n=this,s=t.node,o=t.data;t.store;return e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[s.label])]),e("span",[e("el-button",(a={style:"font-size: 12px;",attrs:{type:"primary",size:"mini"}},l()(a,"style","padding:3px"),l()(a,"on",{click:function(){return n.showAddDepView(o,event)}}),a),["添加菜单"]),e("el-button",(i={style:"font-size: 12px;",attrs:{type:"danger",size:"mini"}},l()(i,"style","padding:3px"),l()(i,"on",{click:function(){return n.deleteDep(o,event)}}),i),["删除菜单"])])])}}}),r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:4}},[a("div",[a("h3",[e._v("部门结构")]),e._v(" "),a("div",[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"tree",staticStyle:{width:"500px","margin-top":"10px"},attrs:{props:e.defaultProps,data:e.departments,"filter-node-method":e.filterNode,"default-expand-all":"","highlight-current":"","expand-on-click-node":!1},on:{"node-click":e.NodeClick1}})],1)])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("h3",[e._v("部门的用户列表")]),e._v(" "),e.accountlist.length>0?a("el-button",{attrs:{type:"primary",size:"mini",disabled:0==e.multipleSelection.length},on:{click:e.changeUserRole}},[e._v("保存用户角色关系\n    ")]):e._e(),e._v(" "),a("treeselect",{attrs:{size:"mini",multiple:!1,options:e.departments2,placeholder:"请选择部分",normalizer:e.normalizer},model:{value:e.deptidselect,callback:function(t){e.deptidselect=t},expression:"deptidselect"}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.accountlist,border:"",stripe:"","highlight-current-row":"",size:"mini"},on:{"selection-change":e.handleSelectionChange,"current-change":e.handleCurrentChange}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",align:"left",fixed:"",label:"编号",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"left",fixed:"",label:"用户名",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",align:"tel",fixed:"",label:"手机号码",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleid",width:"100",align:"left",label:"角色",formatter:e.getrolebyroleid}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",[a("h3",[e._v("角色")]),e._v(" "),e.menulist.length>0?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.changeRolemenu}},[e._v("保存角色权限关系\n          ")]):e._e(),e._v(" "),e._l(e.rolelist,function(t){return a("el-radio",{key:t.id,staticStyle:{display:"block",margin:"2px"},attrs:{label:t.id,value:t.id},on:{change:e.changecheckedrole},model:{value:e.checkedroleid,callback:function(t){e.checkedroleid=t},expression:"checkedroleid"}},[e._v("\n            "+e._s(t.value)+"\n            ")])})],2)]),e._v(" "),a("el-col",{attrs:{span:4}},[a("div",[a("h3",[e._v("权限功能")]),e._v(" "),a("div",[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"tree",staticStyle:{width:"500px","margin-top":"10px"},attrs:{props:e.defaultProps,data:e.menulist,"filter-node-method":e.filterNode,"default-expand-all":"","highlight-current":"","show-checkbox":"","node-key":"id"},on:{"node-click":e.NodeClick2}})],1)])])],1)},staticRenderFns:[]};var d=a("VU/8")(o,r,!1,function(e){a("ZYxk")},null,null);t.default=d.exports},K5YU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("员工培训")])])}]},l=a("VU/8")(null,i,!1,null,null,null);t.default=l.exports},NSBc:function(e,t){},PRwH:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n=a("0ZYY"),s=a.n(n),o=(a("npPj"),{components:{Treeselect:s.a},data:function(){return{normalizer:function(e){return{id:e.id,label:e.name,children:e.children}},dialogFormVisible:!1,data:[],status:[{id:"2",value:"审核通过"},{id:"1",value:"审核未通过"}],type:[{id:"-1",value:"全部"},{id:"0",value:"未审核"},{id:"1",value:"审核未通过"},{id:"2",value:"审核通过"}],depts:[],emps:[],fileUploadBtnText:"导入数据",ptime:"",faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",dialogTitle:"",multipleSelection:[],depTextColor:"#c0c4cc",nations:[],politics:[],positions:[],joblevels:[],totalCount:-1,currentPage:1,deps:[],defaultProps:{label:"name",children:"children"},dialogVisible:!1,tableLoading:!1,advanceSearchViewVisible:!1,showOrHidePop:!1,showOrHidePop2:!1,emp:{type:[],number:"",deptids:null,ptime:"2018-01-01",endtime:"2018-10-10",name:"",address:""},auditForm:{name:"",id:"",status:[],mark:"",score:"",type:""},formLabelWidth:"120px"}},mounted:function(){this.initData(),this.loadEmps()},methods:{cancelAudit:function(){this.dialogFormVisible=!1,this.auditForm.mark="",this.auditForm.status=""},submitForm:function(e){this.tableLoading=!0;this.postRequestJson("api/reportTask/updateAudit",this.auditForm).then(function(e){}),this.dialogFormVisible=!1},audit:function(e){console.log("*************"+l()(e)),this.auditForm.score=e.number,this.auditForm.id=e.id,this.auditForm.type=e.status,this.cancelAudit(),this.dialogFormVisible=!0},showPictuer:function(e){console.log(e.number)},formatterColum:function(e,t){switch(e.status){case 0:return"未审核";case 1:return"审核未通过";case 2:return"审核通过"}},cancelSearch:function(){this.advanceSearchViewVisible=!1,this.emptyEmpData(),this.ptime="",this.loadEmps()},showAdvanceSearchView:function(){this.advanceSearchViewVisible=!this.advanceSearchViewVisible,this.keywords="",this.advanceSearchViewVisible||(this.emptyEmpData(),this.ptime="",this.loadEmps())},handleSelectionChange:function(e){this.multipleSelection=e},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除["+e.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.id)}).catch(function(){})},doDelete:function(e){this.tableLoading=!0;var t=this;this.deleteRequest("/report/delete/"+e).then(function(e){if(t.tableLoading=!1,e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.loadEmps()}})},keywordsChange:function(e){""==e&&this.loadEmps()},searchEmp:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadReports:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/reportTask/reportAudit?page="+this.currentPage+"&limit=10&ptime="+this.emp.ptime+"&endtime="+this.emp.endtime+"&deptid="+this.emp.deptids+"&status="+this.emp.type).then(function(a){if(e.tableLoading=!1,a&&200==a.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/reportTask/reportAudit?page="+this.currentPage+"&limit=10&ptime="+this.emp.ptime+"&endtime="+this.emp.endtime+"&deptid="+this.emp.deptids+"&status="+this.emp.type).then(function(a){if(e.tableLoading=!1,a&&200==a.data.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},addEmp:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;t.emp.id?(t.tableLoading=!0,t.putRequest("/employee/basic/emp",t.emp).then(function(e){if(a.tableLoading=!1,e&&200==e.status){var t=e.data;a.$message({type:t.status,message:t.msg}),a.dialogVisible=!1,a.emptyEmpData(),a.loadEmps()}})):(t.tableLoading=!0,t.postRequest("/employee/basic/emp",t.emp).then(function(e){if(a.tableLoading=!1,e&&200==e.status){var t=e.data;a.$message({type:t.status,message:t.msg}),a.dialogVisible=!1,a.emptyEmpData(),a.loadEmps()}}))})},cancelEidt:function(){this.dialogVisible=!1,this.emptyEmpData()},showDepTree:function(){this.showOrHidePop=!this.showOrHidePop},showDepTree2:function(){this.showOrHidePop2=!this.showOrHidePop2},handleNodeClick:function(e){this.emp.departmentName=e.name,this.emp.deptids=e.id,this.showOrHidePop=!1,this.depTextColor="#606266"},handleNodeClick2:function(e){this.emp.departmentName=e.name,this.emp.deptids=e.id,this.showOrHidePop2=!1,this.depTextColor="#606266"},initData:function(){var e=this;this.getRequest("/api/ndept/deptTree/1").then(function(t){var a=t.data;t&&200==t.status&&(e.depts=a.data,e.data=a.data)})},emptyEmpData:function(){this.emp={name:"",address:"",deptids:null}}}}),r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{"align-content":"center"}},[a("el-col",{attrs:{span:5}},[a("span",{staticClass:"demonstration"},[e._v("从")]),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.emp.ptime,callback:function(t){e.$set(e.emp,"ptime",t)},expression:"emp.ptime"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"demonstration"},[e._v("到")]),e._v(" "),a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",size:"mini",placeholder:"结束日期"},model:{value:e.emp.endtime,callback:function(t){e.$set(e.emp,"endtime",t)},expression:"emp.endtime"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("treeselect",{attrs:{size:"samll",multiple:!0,options:e.depts,placeholder:"请选择地区",normalizer:e.normalizer},model:{value:e.emp.deptids,callback:function(t){e.$set(e.emp,"deptids",t)},expression:"emp.deptids"}})],1),e._v(" "),a("el-col",{attrs:{span:5,push:1}},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请选择类型",prop:"type"},model:{value:e.emp.type,callback:function(t){e.$set(e.emp,"type",t)},expression:"emp.type"}},e._l(e.type,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelSearch}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.loadReports}},[e._v("搜索")])],1)],1)]),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{width:"100%",height:"100%"},attrs:{title:"任务审批",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"auditForm",attrs:{model:e.auditForm}},[a("el-form-item",{attrs:{label:"分值:","label-width":e.formLabelWidth,prop:"score"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{"auto-complete":"off",readonly:!0},model:{value:e.auditForm.score,callback:function(t){e.$set(e.auditForm,"score",t)},expression:"auditForm.score"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审核与否:","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"320px"},attrs:{prop:"status"},model:{value:e.auditForm.status,callback:function(t){e.$set(e.auditForm,"status",t)},expression:"auditForm.status"}},e._l(e.status,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"审核信息:","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"320px",height:"300px"},attrs:{rows:2,placeholder:"请输入内容"},model:{value:e.auditForm.mark,callback:function(t){e.$set(e.auditForm,"mark",t)},expression:"auditForm.mark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAudit}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm(e.auditForm)}}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"id",align:"left",fixed:"",label:"编号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"left",fixed:"",label:"任务名称",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",width:"200",align:"left",label:"任务类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",width:"150",label:"链接"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ptime",width:"180",align:"left",label:"发布时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endtime",width:"180",align:"left",label:"结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",width:"100",align:"left",label:"下发人数"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showPictuer(t.row)}}},[e._v("\n                "+e._s(t.row.number)+"\n              ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"150",prop:"markto",label:"总数"}}),e._v(" "),a("el-table-column",{attrs:{width:"150",prop:"markto",label:"完成数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",width:"180",label:"审批状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.status?a("span",{staticStyle:{color:"sandybrown"}},[e._v("未审核")]):e._e(),e._v(" "),"1"==t.row.status?a("span",{staticStyle:{color:"red"}},[e._v("审核未通过")]):e._e(),e._v(" "),"2"==t.row.status?a("span",{staticStyle:{color:"green"}},[e._v("审核通过")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"score",label:"单条分值",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.status||"1"==t.row.status?a("span",[e._v("0")]):e._e(),e._v(" "),"2"==t.row.status?a("span",[e._v("1")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"score",label:"操作",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{color:"gold"},attrs:{type:"text"},on:{click:function(a){e.audit(t.row)}}},[e._v("审核")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.emps.length>0?a("el-button",{attrs:{type:"danger",size:"mini",disabled:""}},[e._v("\n            朴素按钮\n          ")]):e._e(),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1)],1)},staticRenderFns:[]};var d=a("VU/8")(o,r,!1,function(e){a("2G3e")},null,null);t.default=d.exports},PkJd:function(e,t){},R27X:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    月末处理\n  ")])])}]},l=a("VU/8")(null,i,!1,null,null,null);t.default=l.exports},RM1G:function(e,t){},StUa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{emps:[],emp:[],keywords:"",fileUploadBtnText:"导入数据",ptime:"",faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",dialogTitle:"",multipleSelection:[],depTextColor:"#c0c4cc",nations:[],politics:[],positions:[],joblevels:[],totalCount:-1,currentPage:1,deps:[],defaultProps:{label:"name",isLeaf:"leaf",children:"children"},dialogVisible:!1,tableLoading:!1,advanceSearchViewVisible:!1,showOrHidePop:!1,showOrHidePop2:!1,rules:{},missiontype:[],missionstatus:[{value:"",label:"全部"},{value:"0",label:"未审核"},{value:"1",label:"审核未通过"},{value:"2",label:"审核通过"}],reportForm:{starttime:"",endtime:"",missiontype:"",missionstatus:""}}},mounted:function(){this.getmissiontype(),this.loadEmps(),console.log(this)},methods:{exportEmps:function(){window.open("/employee/basic/exportEmp","_parent")},getstatus:function(e){return 0==e.status?"未审核":1==e.status?"审核未通过":2==e.status?"审核通过":void 0},getmissiontype:function(){var e=this;this.getRequest("/api/reportType/getmytaskmissiontype?userid=1").then(function(t){var a=t.data;t&&200==t.status&&(e.missiontype=a.data.rows,console.log("*********"))})},searchmission:function(){this.loadEmps()},cancelSearch:function(){this.advanceSearchViewVisible=!1,this.emptyEmpData(),this.ptime="",this.loadEmps()},handleSelectionChange:function(e){this.multipleSelection=e},deleteManyEmps:function(){var e=this;this.$confirm("此操作将删除["+this.multipleSelection.length+"]条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t="",a=0;a<e.multipleSelection.length;a++)t+=e.multipleSelection[a].id+",";e.doDelete(t)}).catch(function(){})},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除["+e.id+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.id)}).catch(function(){})},doDelete:function(e){this.tableLoading=!0;var t=this;this.deleteRequest("/api/reportType/delmyreport/"+e).then(function(e){if(t.tableLoading=!1,e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.loadEmps()}})},keywordsChange:function(e){""==e&&this.loadEmps()},searchEmp:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/reportType/mytask?page="+this.currentPage+"&limit=10&userid=1&deptid=1&starttime="+this.reportForm.starttime+"&endtime="+this.reportForm.endtime+"&type="+this.reportForm.missiontype+"&status="+this.reportForm.missionstatus).then(function(a){if(e.tableLoading=!1,a&&200==a.data.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},showpicture:function(e){var t=this;this.getRequest("api/report/getPictureAddress?id="+e.id).then(function(e){if(t.emp=[],t.dialogVisible=!0,e&&200==e.data.status){var a=e.data.data;t.emp=a.rows}})},cancelEidt:function(){this.dialogVisible=!1,this.emptyEmpData()},showDepTree:function(){this.showOrHidePop=!this.showOrHidePop},showDepTree2:function(){this.showOrHidePop2=!this.showOrHidePop2},handleNodeClick:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop=!1,this.depTextColor="#606266"},handleNodeClick2:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop2=!1,this.depTextColor="#606266"},initData:function(){var e=this;this.getRequest("/api/employee/basic/basicdata").then(function(t){if(t&&200==t.status){var a=t.data;e.nations=a.nations,e.politics=a.politics,e.deps=a.deps,e.positions=a.positions,e.joblevels=a.joblevels,e.emp.workID=a.workID}})},emptyEmpData:function(){this.emp={name:"",gender:"",birthday:"",idCard:"",wedlock:"",nationId:"",nativePlace:"",politicId:"",email:"",phone:"",address:"",departmentId:"",departmentName:"所属部门...",jobLevelId:"",posId:"",engageForm:"",tiptopDegree:"",specialty:"",school:"",beginDate:"",workState:"",workID:"",contractTerm:"",conversionTime:"",notWorkDate:"",beginContract:"",endContract:"",workAge:""}}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{"margin-left":"5px","margin-right":"20px",display:"inline"}},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[e._v("从")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"150px",margin:"0px",padding:"0px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.reportForm.starttime,callback:function(t){e.$set(e.reportForm,"starttime",t)},expression:"reportForm.starttime"}}),e._v(" "),a("span",{staticClass:"demonstration"},[e._v("到")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"150px",margin:"0px",padding:"0px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.reportForm.endtime,callback:function(t){e.$set(e.reportForm,"endtime",t)},expression:"reportForm.endtime"}}),e._v(" "),a("el-select",{staticStyle:{width:"150px",margin:"0px",padding:"0px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.reportForm.missiontype,callback:function(t){e.$set(e.reportForm,"missiontype",t)},expression:"reportForm.missiontype"}},e._l(e.missiontype,function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.id}})})),e._v(" "),a("el-select",{staticStyle:{width:"150px",margin:"0px",padding:"0px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:e.reportForm.missionstatus,callback:function(t){e.$set(e.reportForm,"missionstatus",t)},expression:"reportForm.missionstatus"}},e._l(e.missionstatus,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("div",{staticStyle:{"margin-left":"5px","margin-right":"20px",display:"inline"}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.searchmission}},[e._v("\n          查询\n        ")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportEmps}},[a("i",{staticClass:"fa fa-lg fa-level-down",staticStyle:{"margin-right":"5px"}}),e._v("导出数据\n        ")])],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("transition",{attrs:{name:"slide-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.advanceSearchViewVisible,expression:"advanceSearchViewVisible"}],staticStyle:{"margin-bottom":"10px",border:"1px","border-radius":"5px","border-style":"solid",padding:"5px 0px 5px 0px","box-sizing":"border-box","border-color":"#20a0ff"}})]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",align:"left",fixed:"",label:"编号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",align:"left",fixed:"",label:"上报人",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ptime",width:"100",align:"left",label:"上报时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",label:"任务类型",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",width:"90",align:"left",label:"上报图片数"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{type:"text",size:"mini"},on:{click:function(a){e.showpicture(t.row)}}},[e._v(e._s(t.row.number)+"\n            ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"address",width:"200",align:"left",label:"地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mark",width:"200",label:"上报描述"}}),e._v(" "),a("el-table-column",{attrs:{width:"80",prop:"status",formatter:e.getstatus,label:"审批状态"}}),e._v(" "),a("el-table-column",{attrs:{width:"80",prop:"value",label:"审批信息"}}),e._v(" "),a("el-table-column",{attrs:{prop:"score",width:"80",label:"得分"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"195"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{type:"danger",size:"mini"},on:{click:function(a){e.deleteEmp(t.row)}}},[e._v("删除\n              ")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.emps.length>0?a("el-button",{attrs:{type:"danger",size:"mini",disabled:0==e.multipleSelection.length},on:{click:e.deleteManyEmps}},[e._v("批量删除\n          ")]):e._e(),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"77%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e._l(e.emp,function(e){return a("div",{key:e.id,staticStyle:{display:"inline","padding-right":"10px"}},[a("img",{attrs:{src:e.address,width:"100",height:"100",alt:""}})])}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("关 闭")])],1)],2)],1)],1)},staticRenderFns:[]};var n=a("VU/8")(i,l,!1,function(e){a("4axH")},null,null);t.default=n.exports},Tlrr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    人事记录统计\n  ")])])}]},l=a("VU/8")(null,i,!1,null,null,null);t.default=l.exports},"UK/j":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    备份恢复数据库\n  ")])])}]},l=a("VU/8")(null,i,!1,null,null,null);t.default=l.exports},VFXo:function(e,t){},VnTu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{dialogVisible:!1,tableLoading:!1,index:0,salaries:[],multipleSelection:[],salary:{id:"",createDate:"",basicSalary:"",trafficSalary:"",lunchSalary:"",bonus:"",pensionBase:"",pensionPer:"",medicalBase:"",medicalPer:"",accumulationFundBase:"",accumulationFundPer:""}}},methods:{deleteAll:function(){var e=this;this.$confirm("删除["+this.multipleSelection.length+"]条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t="";e.multipleSelection.forEach(function(e){t=t+e.id+","}),e.doDelete(t)}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleSelectionChange:function(e){this.multipleSelection=e},handleEdit:function(e,t){this.dialogVisible=!0,t.createDate=new Date(t.createDate),delete t.allSalary,this.salary=t},handleDelete:function(e,t){var a=this;this.$confirm("删除["+t.name+"]账套, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.doDelete(t.id)}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},doDelete:function(e){var t=this;t.tableLoading=!0,this.deleteRequest("/salary/sob/salary/"+e).then(function(e){if(t.tableLoading=!1,e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.loadSalaryCfg()}})},next:function(){var e=this,t=this;7==this.index?this.salary.createDate&&this.salary.basicSalary&&this.salary.trafficSalary&&this.salary.lunchSalary&&this.salary.bonus&&this.salary.pensionBase&&this.salary.pensionPer&&this.salary.medicalBase&&this.salary.medicalPer&&this.salary.accumulationFundBase&&this.salary.accumulationFundPer?this.salary.id?(t.tableLoading=!0,this.putRequest("/salary/sob/salary",this.salary).then(function(e){if(t.tableLoading=!1,e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.dialogVisible=!1,t.index=0,t.loadSalaryCfg()}})):this.$prompt("请输入账套名称","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(a){var i=a.value;e.salary.name=i,e.postRequest("/salary/sob/salary",e.salary).then(function(e){if(e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.dialogVisible=!1,t.index=0,t.loadSalaryCfg()}})}).catch(function(){}):this.$message({type:"error",message:"字段不能为空!"}):this.index++},loadSalaryCfg:function(){this.tableLoading=!0;var e=this;this.getRequest("/salary/sob/salary").then(function(t){e.tableLoading=!1,t&&200==t.status&&(e.salaries=t.data)})},emptySalary:function(){this.salary={id:"",createDate:"",basicSalary:"",trafficSalary:"",lunchSalary:"",bonus:"",pensionBase:"",pensionPer:"",medicalBase:"",medicalPer:"",accumulationFundBase:"",accumulationFundPer:""},this.index=0}},mounted:function(){this.loadSalaryCfg()}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","padding-left":"0px"}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加账套")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-refresh"},on:{click:e.loadSalaryCfg}})],1),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.salaries,stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{width:"120",prop:"name",label:"账套名称"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",prop:"basicSalary",label:"基本工资"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",prop:"trafficSalary",label:"交通补助"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",prop:"lunchSalary",label:"午餐补助"}}),e._v(" "),a("el-table-column",{attrs:{prop:"bonus",width:"70",label:"奖金"}}),e._v(" "),a("el-table-column",{attrs:{width:"100",label:"启用时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatDate")(t.row.createDate)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"养老金",align:"center"}},[a("el-table-column",{attrs:{prop:"pensionPer",width:"70",label:"比率"}}),e._v(" "),a("el-table-column",{attrs:{width:"70",prop:"pensionBase",label:"基数"}})],1),e._v(" "),a("el-table-column",{attrs:{label:"医疗保险",align:"center"}},[a("el-table-column",{attrs:{width:"70",prop:"medicalPer",label:"比率"}}),e._v(" "),a("el-table-column",{attrs:{prop:"medicalBase",width:"70",label:"基数"}})],1),e._v(" "),a("el-table-column",{attrs:{label:"公积金",align:"center"}},[a("el-table-column",{attrs:{width:"70",prop:"accumulationFundPer",label:"比率"}}),e._v(" "),a("el-table-column",{attrs:{prop:"accumulationFundBase",width:"70",label:"基数"}})],1),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"}},[a("el-table-column",{attrs:{label:"编辑",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("编辑\n                ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"删除",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除\n                ")])]}}])})],1)],1)],1),e._v(" "),0!=e.salaries?a("div",{staticStyle:{"text-align":"left","margin-top":"10px"}},[a("el-button",{attrs:{type:"danger",round:"",size:"mini",disabled:0==e.multipleSelection.length},on:{click:e.deleteAll}},[e._v("批量删除\n        ")])],1):e._e()])],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"添加工资账套",visible:e.dialogVisible,width:"50%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t},close:e.emptySalary}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("el-steps",{attrs:{active:e.index,direction:"vertical"}},[a("el-step",{attrs:{title:"基本工资",size:"mini"}}),e._v(" "),a("el-step",{attrs:{title:"交通补助"}}),e._v(" "),a("el-step",{attrs:{title:"午餐补助"}}),e._v(" "),a("el-step",{attrs:{title:"奖金"}}),e._v(" "),a("el-step",{attrs:{title:"养老金"}}),e._v(" "),a("el-step",{attrs:{title:"医疗保险"}}),e._v(" "),a("el-step",{attrs:{title:"公积金"}}),e._v(" "),a("el-step",{attrs:{title:"启用时间"}})],1),e._v(" "),a("div",{staticStyle:{"margin-left":"30px",display:"flex","justify-content":"center","align-items":"center",width:"80%"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.index,expression:"index==0"}]},[e._v("\n            基本工资：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入基本工资...",size:"mini",type:"number"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.next(t):null}},model:{value:e.salary.basicSalary,callback:function(t){e.$set(e.salary,"basicSalary",t)},expression:"salary.basicSalary"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.index,expression:"index==1"}]},[e._v("\n            交通补助：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入交通补助...",size:"mini",type:"number"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.next(t):null}},model:{value:e.salary.trafficSalary,callback:function(t){e.$set(e.salary,"trafficSalary",t)},expression:"salary.trafficSalary"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.index,expression:"index==2"}]},[e._v("\n            午餐补助：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入午餐补助...",size:"mini",type:"number"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.next(t):null}},model:{value:e.salary.lunchSalary,callback:function(t){e.$set(e.salary,"lunchSalary",t)},expression:"salary.lunchSalary"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.index,expression:"index==3"}]},[e._v("\n            奖金：\n            "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入奖金...",size:"mini",type:"number"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.next(t):null}},model:{value:e.salary.bonus,callback:function(t){e.$set(e.salary,"bonus",t)},expression:"salary.bonus"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:4==e.index,expression:"index==4"}]},[a("div",[e._v("\n              养老金比率：\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入养老金比率...",size:"mini",type:"number"},model:{value:e.salary.pensionPer,callback:function(t){e.$set(e.salary,"pensionPer",t)},expression:"salary.pensionPer"}})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[e._v("\n              养老金基数：\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入养老金基数...",size:"mini",type:"number"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.next(t):null}},model:{value:e.salary.pensionBase,callback:function(t){e.$set(e.salary,"pensionBase",t)},expression:"salary.pensionBase"}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:5==e.index,expression:"index==5"}]},[a("div",[e._v("\n              医疗保险比率：\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入医疗保险比率...",size:"mini",type:"number"},model:{value:e.salary.medicalPer,callback:function(t){e.$set(e.salary,"medicalPer",t)},expression:"salary.medicalPer"}})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[e._v("\n              医疗保险基数：\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入医疗保险基数...",size:"mini",type:"number"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.next(t):null}},model:{value:e.salary.medicalBase,callback:function(t){e.$set(e.salary,"medicalBase",t)},expression:"salary.medicalBase"}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:6==e.index,expression:"index==6"}]},[a("div",[e._v("\n              公积金比率：\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入公积金比率...",size:"mini",type:"number"},model:{value:e.salary.accumulationFundPer,callback:function(t){e.$set(e.salary,"accumulationFundPer",t)},expression:"salary.accumulationFundPer"}})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[e._v("\n              公积金基数：\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入公积金基数...",size:"mini",type:"number"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.next(t):null}},model:{value:e.salary.accumulationFundBase,callback:function(t){e.$set(e.salary,"accumulationFundBase",t)},expression:"salary.accumulationFundBase"}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:7==e.index,expression:"index==7"}]},[e._v("\n            启用时间：\n            "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date",size:"mini","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.salary.createDate,callback:function(t){e.$set(e.salary,"createDate",t)},expression:"salary.createDate"}})],1)])],1),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",padding:"0px",margin:"0px"}},[0!=e.index?a("el-button",{attrs:{round:"",size:"mini"},on:{click:function(t){e.index--}}},[e._v("上一步")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary",round:"",size:"mini"},domProps:{textContent:e._s(7==e.index?"完成":"下一步")},on:{click:e.next}})],1)])],1)],1)},staticRenderFns:[]};var n=a("VU/8")(i,l,!1,function(e){a("yYJ4")},null,null);t.default=n.exports},XGB5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("员工资料")])])}]},l=a("VU/8")(null,i,!1,null,null,null);t.default=l.exports},YbFX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,size:"mini",border:"",stripe:""}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"left",fixed:"",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"workID",width:"120",align:"left",label:"工号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",width:"200",align:"left",label:"电子邮件"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",width:"120",label:"电话号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"department.name",align:"left",width:"120",label:"所属部门"}}),e._v(" "),a("el-table-column",{attrs:{label:"工资账套",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{placement:"right"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t.row.salary?[a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("基本工资")]),e._v("\n                ￥"+e._s(t.row.salary.basicSalary)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("奖金")]),e._v("\n                ￥"+e._s(t.row.salary.bonus)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("午餐补助")]),e._v("\n                ￥"+e._s(t.row.salary.lunchSalary)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("交通补助")]),e._v("\n                ￥"+e._s(t.row.salary.trafficSalary)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("养老金基数")]),e._v("\n                ￥"+e._s(t.row.salary.pensionBase)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("养老金比率")]),e._v("\n                "+e._s(t.row.salary.pensionPer)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("公积金基数")]),e._v("\n                ￥"+e._s(t.row.salary.accumulationFundBase)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("公积金比率")]),e._v("\n                "+e._s(t.row.salary.accumulationFundPer)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("医疗保险基数")]),e._v("\n                ￥"+e._s(t.row.salary.medicalBase)+"\n              ")],1),e._v(" "),a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("医疗保险比率")]),e._v("\n                "+e._s(t.row.salary.medicalPer)+"\n              ")],1)]:e._e()],2),e._v(" "),a("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t.row.salary?t.row.salary.name:"暂未设置"))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{key:t.row.id,attrs:{placement:"right",width:"200",trigger:"click"},on:{hide:function(a){e.updateSalaryCfg(t.row.id)}}},[a("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.sid,callback:function(t){e.sid=t},expression:"sid"}},e._l(e.salaries,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},on:{click:function(a){e.showUpdateView(t.row)}},slot:"reference"},[e._v("修改账套\n          ")])],1)]}}])})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)},staticRenderFns:[]},l=a("VU/8")({data:function(){return{emps:[],salaries:[],tableLoading:!1,totalCount:-1,sid:"",osid:"",currentPage:1}},mounted:function(){this.loadEmps()},methods:{showUpdateView:function(e){this.loadSalaries(),e.salary?(this.sid=e.salary.id,this.osid=e.salary.id):(this.sid="",this.osid="")},loadSalaries:function(){var e=this;this.getRequest("/salary/sobcfg/salaries").then(function(t){t&&200==t.status&&(e.salaries=t.data)})},updateSalaryCfg:function(e){var t=this;this.osid!=this.sid&&this.putRequest("/salary/sobcfg/",{eid:e,sid:this.sid}).then(function(e){if(e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.loadEmps()}})},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){this.tableLoading=!0;var e=this;this.getRequest("/salary/sobcfg/emp?page="+this.currentPage+"&size=10").then(function(t){if(e.tableLoading=!1,t&&200==t.status){var a=t.data;e.emps=a.emps,e.totalCount=a.count}})}}},i,!1,null,null,null);t.default=l.exports},ZDkW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n={data:function(){return{emps:[],ptime:"",faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",dialogTitle:"",multipleSelection:[],depTextColor:"#c0c4cc",totalCount:-1,currentPage:1,deps:[],defaultProps:{label:"name",isLeaf:"leaf",children:"children"},dialogVisible:!1,tableLoading:!1,advanceSearchViewVisible:!1,showOrHidePop:!1,showOrHidePop2:!1,emp:{ptime:"",endtime:"",name:"",address:""},rules:{}}},mounted:function(){this.loadEmps()},methods:{exportEmps:function(){window.open("/api/report/exportReports?page=&size=&name="+this.keywords,"_parent")},handleSelectionChange:function(e){this.multipleSelection=e},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadSearch:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/history/list?starttime="+this.emp.ptime+"&endtime="+this.emp.endtime+"&name="+this.emp.name+"&page="+this.currentPage+"&limit=10").then(function(a){if(e.tableLoading=!1,a&&200==a.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/history/list?starttime="+this.emp.ptime+"&endtime="+this.emp.endtime+"&name="+this.emp.name+"&page="+this.currentPage+"&limit=10").then(function(a){if(e.tableLoading=!1,console.log("***********"+l()(a)),a&&200==a.data.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},cancelEidt:function(){this.dialogVisible=!1,this.emptyEmpData()},showDepTree:function(){this.showOrHidePop=!this.showOrHidePop},showDepTree2:function(){this.showOrHidePop2=!this.showOrHidePop2},handleNodeClick:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop=!1,this.depTextColor="#606266"},handleNodeClick2:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop2=!1,this.depTextColor="#606266"},emptyEmpData:function(){this.emp={name:"",address:""}}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{width:"800px","font-size":"12px"}},[a("span",{staticClass:"demonstration"},[e._v("从")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.emp.ptime,callback:function(t){e.$set(e.emp,"ptime",t)},expression:"emp.ptime"}}),e._v(" "),a("span",{staticClass:"demonstration"},[e._v("到")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date","value-format":"yyyy-MM-dd",size:"mini",placeholder:"结束日期"},model:{value:e.emp.endtime,callback:function(t){e.$set(e.emp,"endtime",t)},expression:"emp.endtime"}}),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入登录名...",size:"mini",clearable:""},model:{value:e.emp.name,callback:function(t){e.$set(e.emp,"name",t)},expression:"emp.name"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.loadSearch}},[e._v("搜索")])],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"id",align:"center",fixed:"",label:"编号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",fixed:"",label:"操作者",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operType",width:"400",align:"center",label:"操作类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operTime",width:"300",align:"center",label:"操作时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"ip",width:"250",label:"IP"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"200",prop:"city",label:"所在城市"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.emps.length>0?a("el-button",{attrs:{type:"text",size:"mini",disabled:0==e.multipleSelection.length}}):e._e(),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1)],1)},staticRenderFns:[]};var o=a("VU/8")(n,s,!1,function(e){a("NSBc")},null,null);t.default=o.exports},ZMcM:function(e,t){},ZYxk:function(e,t){},agXO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    初始化数据库\n  ")])])}]},l=a("VU/8")(null,i,!1,null,null,null);t.default=l.exports},ewEk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={data:function(){return{keywords:"",fullloading:!1,hrs:[],cardLoading:[],eploading:[],allRoles:[],moreBtnState:!1,selRoles:[],selRolesBak:[]}},mounted:function(){this.initCards(),this.loadAllRoles()},methods:{searchClick:function(){this.initCards(),this.loadAllRoles()},updateHrRoles:function(e,t){this.moreBtnState=!1;var a=this;if(this.selRolesBak.length==this.selRoles.length){for(var i=0;i<this.selRoles.length;i++)for(var l=0;l<this.selRolesBak.length;l++)if(this.selRoles[i]==this.selRolesBak[l]){this.selRolesBak.splice(l,1);break}if(0==this.selRolesBak.length)return}this.eploading.splice(t,1,!0),this.putRequest("/system/hr/roles",{hrId:e,rids:this.selRoles}).then(function(i){if(a.eploading.splice(t,1,!1),i&&200==i.status){var l=i.data;a.$message({type:l.status,message:l.msg}),"success"==l.status&&a.refreshHr(e,t)}})},refreshHr:function(e,t){var a=this;a.cardLoading.splice(t,1,!0),this.putRequest("/system/hr/id/"+e).then(function(e){a.cardLoading.splice(t,1,!1),a.hrs.splice(t,1,e.data)})},loadSelRoles:function(e,t){var a=this;this.moreBtnState=!0,this.selRoles=[],this.selRolesBak=[],e.forEach(function(e){a.selRoles.push(e.id),a.selRolesBak.push(e.id)})},loadAllRoles:function(){var e=this;this.getRequest("api/system/basic/roles").then(function(t){e.fullloading=!1,t&&200==t.status&&(e.allRoles=t.data)})},switchChange:function(e,t,a){var i=this;i.cardLoading.splice(a,1,!0),this.putRequest("/system/hr/",{enabled:e,id:t}).then(function(e){if(i.cardLoading.splice(a,1,!1),e&&200==e.status){var l=e.data;i.$message({type:l.status,message:l.msg}),"error"==l.status&&i.refreshHr(t,a)}else i.refreshHr(t,a)})},initCards:function(){this.fullloading=!0;var e,t=this;e=""===this.keywords?"all":this.keywords,this.getRequest("/system/hr/"+e).then(function(e){if(e&&200==e.status){t.hrs=e.data;var a=e.data.length;t.cardLoading=Array.apply(null,Array(a)).map(function(e,t){return!1}),t.eploading=Array.apply(null,Array(a)).map(function(e,t){return!1})}})},deleteHr:function(e){var t=this;this.fullloading=!0,this.deleteRequest("/system/hr/"+e).then(function(e){if(t.fullloading=!1,e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),"success"==a.status&&(t.initCards(),t.loadAllRoles())}})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.fullloading,expression:"fullloading"}],staticStyle:{"margin-top":"10px"}},[a("div",{staticStyle:{"margin-bottom":"10px",display:"flex","justify-content":"center","align-items":"center"}},[a("el-input",{staticStyle:{width:"400px","margin-right":"10px"},attrs:{placeholder:"默认展示部分用户，可以通过用户名搜索更多用户...","prefix-icon":"el-icon-search",size:"small"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.searchClick}},[e._v("搜索")])],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-around","flex-wrap":"wrap","text-align":"left"}},e._l(e.hrs,function(t,i){return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.cardLoading[i],expression:"cardLoading[index]"}],key:t.id,staticStyle:{width:"350px","margin-bottom":"20px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("el-button",{staticStyle:{color:"#f6061b",margin:"0px",float:"right",padding:"3px 0",width:"15px",height:"15px"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){e.deleteHr(t.id)}}})],1),e._v(" "),a("div",[a("div",{staticStyle:{width:"100%",display:"flex","justify-content":"center"}},[a("img",{staticStyle:{width:"70px",height:"70px","border-radius":"70px"},attrs:{src:t.userface,alt:"item.name"}})]),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("div",[a("span",{staticClass:"user-info"},[e._v("用户名:"+e._s(t.name))])]),e._v(" "),a("div",[a("span",{staticClass:"user-info"},[e._v("手机号码:"+e._s(t.phone))])]),e._v(" "),a("div",[a("span",{staticClass:"user-info"},[e._v("电话号码:"+e._s(t.telephone))])]),e._v(" "),a("div",[a("span",{staticClass:"user-info"},[e._v("地址:"+e._s(t.address))])]),e._v(" "),a("div",{staticClass:"user-info",staticStyle:{display:"flex","align-items":"center","margin-bottom":"3px"}},[e._v("\n              用户状态:\n              "),a("el-switch",{key:t.id,staticStyle:{display:"inline","margin-left":"5px"},attrs:{"active-color":"#13ce66","inactive-color":"#aaaaaa","active-text":"启用","inactive-text":"禁用"},on:{change:function(a){e.switchChange(t.enabled,t.id,i)}},model:{value:t.enabled,callback:function(a){e.$set(t,"enabled",a)},expression:"item.enabled"}})],1),e._v(" "),a("div",{staticClass:"user-info"},[e._v("\n              用户角色:\n              "),e._l(t.roles,function(t){return a("el-tag",{key:t.id,staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"mini","disable-transitions":!1}},[e._v(e._s(t.nameZh)+"\n              ")])}),e._v(" "),a("el-popover",{directives:[{name:"loading",rawName:"v-loading",value:e.eploading[i],expression:"eploading[index]"}],key:t.id,attrs:{placement:"right",title:"角色列表",width:"200",trigger:"click"},on:{hide:function(a){e.updateHrRoles(t.id,i)}}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择角色"},model:{value:e.selRoles,callback:function(t){e.selRoles=t},expression:"selRoles"}},e._l(e.allRoles,function(e){return a("el-option",{key:e.id,attrs:{label:e.nameZh,value:e.id}})})),e._v(" "),a("el-button",{staticStyle:{color:"#09c0f6","padding-top":"0px"},attrs:{slot:"reference",type:"text",icon:"el-icon-more",disabled:e.moreBtnState},on:{click:function(a){e.loadSelRoles(t.roles,i)}},slot:"reference"})],1)],2),e._v(" "),a("div",[a("span",{staticClass:"user-info"},[e._v("备注:"+e._s(t.remark))])])])])])}))])},staticRenderFns:[]};var n=a("VU/8")(i,l,!1,function(e){a("6aER")},null,null);t.default=n.exports},fc7a:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZBaB"),l=a("FvOz"),n=a("5xQo"),s=a("c98W"),o=a("/LNZ"),r={data:function(){return{defaultTab:"depMana"}},methods:{},components:{"menu-role":i.default,"dep-mana":l.default,"ec-mana":n.default,"jobtitle-mana":s.default,"pos-mana":o.default}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"10px"}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.defaultTab,callback:function(t){e.defaultTab=t},expression:"defaultTab"}},[a("el-tab-pane",{attrs:{label:"部门管理",name:"depMana"}},[a("dep-mana")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"职位管理",name:"positionMana"}},[a("pos-mana",{attrs:{state:"position"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"职称管理",name:"jobTitleMana"}},[a("pos-mana",{attrs:{state:"jobtitle"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"奖惩规则",name:"ecCfg"}},[a("ec-mana")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"权限组",name:"menuRole"}},[a("menu-role")],1)],1)],1)},staticRenderFns:[]},p=a("VU/8")(r,d,!1,null,null,null);t.default=p.exports},gxQO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),n=a("mvHQ"),s=a.n(n),o=a("0ZYY"),r=a.n(o),d=(a("npPj"),{components:{Treeselect:r.a},data:function(){return{normalizer:function(e){return{id:e.id,label:e.name,children:e.children}},month:[{id:""}],tableData1:[],tableData:[],dialogFormVisible:!1,data:[],depts:[],emps:[],faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",dialogTitle:"",multipleSelection:[],depTextColor:"#c0c4cc",totalCount:-1,currentPage:1,page:1,total:-1,deps:[],defaultProps:{label:"name",children:"children"},dialogVisible:!1,tableLoading:!1,advanceSearchViewVisible:!1,showOrHidePop:!1,showOrHidePop2:!1,emp:{type:[],number:"",deptids:null,ptime:"",endtime:"",address:""},auditForm:{name:"",id:"",status:[],mark:"",score:"",type:""},formLabelWidth:"120px"}},mounted:function(){this.initData(),this.initDate(),this.loadEmps()},methods:{nowMonth:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();a<10&&(a="0"+a),i<10&&(i="0"+i);var l=t+"-"+a+"-"+i;this.emp.endtime=l,this.emp.ptime=t+"-"+a+"-1",this.loadReports()},lastMonth:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1-1;a<10&&(a="0"+a);var i=new Date(t,a,0);console.log("最后一天"+i.getDate()),this.emp.ptime=t+"-"+a+"-01",this.emp.endtime=t+"-"+a+"-"+i.getDate(),this.loadReports()},last2Month:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1-2;a<10&&(a="0"+a);var i=new Date(t,a,0);console.log("最后一天"+i.getDate()),this.emp.ptime=t+"-"+a+"-01",this.emp.endtime=t+"-"+a+"-"+i.getDate(),this.loadReports()},last3Month:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1-3;a<10&&(a="0"+a);var i=new Date(t,a,0);console.log("最后一天"+i.getDate()),this.emp.ptime=t+"-"+a+"-01",this.emp.endtime=t+"-"+a+"-"+i.getDate(),this.loadReports()},cancelAudit:function(){this.dialogFormVisible=!1,this.auditForm.mark="",this.auditForm.status=""},showAdvanceSearchView:function(){this.advanceSearchViewVisible=!this.advanceSearchViewVisible,this.keywords="",this.advanceSearchViewVisible||(this.emptyEmpData(),this.ptime="",this.loadEmps())},handleSelectionChange:function(e){this.multipleSelection=e},keywordsChange:function(e){""==e&&this.loadEmps()},searchEmp:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},pageChange:function(e){console.log("************* +++++"+e),this.page=e,console.log("此处有个小问题!!!!!!!")},loadReports:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/reportTask/reportCountByUser?isAu=1&page="+this.currentPage+"&limit=10&ptime="+this.emp.ptime+"&endtime="+this.emp.endtime+"&deptid="+this.emp.deptids).then(function(a){if(e.tableLoading=!1,a&&200==a.data.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,null==this.emp.deptids&&(this.emp.deptids=-1),this.getRequest("api/reportTask/reportCountByUser?isAu=&page="+this.currentPage+"&limit=10&ptime="+this.emp.ptime+"&endtime="+this.emp.endtime+"&deptid="+this.emp.deptids).then(function(a){if(e.tableLoading=!1,a&&200==a.data.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},SeeDetails:function(e){console.log("****  "+s()(e));var t=this;this.tableLoading=!0,this.getRequest("api/reportTask/taskReportDetailByUser?userid="+e.id+"&page="+this.currentPage+"&limit=10&ptime="+this.emp.ptime+"&endtime="+this.emp.endtime).then(function(e){if(e&&200==e.status){var a=e.data.data;t.tableData=a.rows,t.total=a.total}}),this.tableLoading=!1,this.dialogFormVisible=!0},cancelEidt:function(){this.dialogVisible=!1,this.emptyEmpData()},showDepTree:function(){this.showOrHidePop=!this.showOrHidePop},showDepTree2:function(){this.showOrHidePop2=!this.showOrHidePop2},handleNodeClick:function(e){this.emp.departmentName=e.name,this.emp.deptids=e.id,this.showOrHidePop=!1,this.depTextColor="#606266"},handleNodeClick2:function(e){this.emp.departmentName=e.name,this.emp.deptids=e.id,this.showOrHidePop2=!1,this.depTextColor="#606266"},initData:function(){var e=this;this.getRequest("/api/ndept/deptTree/1").then(function(t){var a=t.data;t&&200==t.status&&(e.depts=a.data,e.data=a.data)})},initDate:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,i=t+"-"+a+"-"+e.getDate();this.emp.endtime=i,this.emp.ptime=t+"-"+a+"-1",this.month.id=a,console.log("***   "+this.month.id)},emptyEmpData:function(){this.emp=l()({ptime:"",endtime:"",deptids:"",name:"",address:""},"deptids",null)}}}),p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","font-size":"12px"}},[a("div",{staticStyle:{width:"300px"}},[a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.last3Month}},[e._v(e._s(this.month.id-3)+"月")]),e._v(" "),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.last2Month}},[e._v(e._s(this.month.id-2)+"月")]),e._v(" "),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.lastMonth}},[e._v(e._s(this.month.id-1)+"月")]),e._v(" "),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.nowMonth}},[e._v("当月")])],1),e._v(" "),a("div",{staticStyle:{width:"800px"}},[a("span",{staticClass:"demonstration"},[e._v("从")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.emp.ptime,callback:function(t){e.$set(e.emp,"ptime",t)},expression:"emp.ptime"}}),e._v(" "),a("span",{staticClass:"demonstration"},[e._v("到")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date","value-format":"yyyy-MM-dd",size:"mini",placeholder:"结束日期"},model:{value:e.emp.endtime,callback:function(t){e.$set(e.emp,"endtime",t)},expression:"emp.endtime"}})],1),e._v(" "),a("div",{staticStyle:{width:"200px"}}),e._v(" "),a("treeselect",{staticStyle:{width:"200px"},attrs:{multiple:!0,options:e.depts,placeholder:"请选择地区",normalizer:e.normalizer},model:{value:e.emp.deptids,callback:function(t){e.$set(e.emp,"deptids",t)},expression:"emp.deptids"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.loadReports}},[e._v("搜索")])],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{width:"100%",height:"100%"},attrs:{title:"任务执行详情",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"index",label:"编号",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ptime",label:"上报时间",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"任务类型",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"执行条数",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"score",label:"得分",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{prop:"markto",label:"批示",width:"198"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.emps.length>0?a("el-button",{attrs:{type:"text",size:"mini",disabled:""}}):e._e(),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.page,layout:"prev, pager, next",total:e.total},on:{"current-change":e.pageChange}})],1)],1)],1),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"index",align:"left",fixed:"",label:"编号",width:"225"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",align:"left",fixed:"",label:"组员",width:"225"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",width:"225",align:"left",label:"所属部门"}}),e._v(" "),a("el-table-column",{attrs:{width:"225",prop:"number",label:"执行条数"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.number?a("span",[e._v("0")]):e._e(),e._v(" "),null!=t.row.number?a("span",[e._v(e._s(t.row.number))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"225",prop:"score",label:"得分"},scopedSlots:e._u([{key:"default",fn:function(t){return[null==t.row.score?a("span",[e._v("0")]):e._e(),e._v(" "),null!=t.row.score?a("span",[e._v(e._s(t.row.score))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"205"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{color:"green"},attrs:{type:"text"},on:{click:function(a){e.SeeDetails(t.row)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.emps.length>0?a("el-button",{attrs:{type:"text",size:"mini",disabled:""}}):e._e(),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1)],1)},staticRenderFns:[]};var c=a("VU/8")(d,p,!1,function(e){a("4/z8")},null,null);t.default=c.exports},hW8l:function(e,t){},hzgs:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),n=a("mvHQ"),s=a.n(n),o={data:function(){return{keywords:"",menuName:"",treeLoading:!1,dialogVisible:!1,allMenus:[],pDep:"",treeData:[],defaultProps:{label:"name",isLeaf:"leaf",children:"children"},menuForm:{name:"",enabled:!1,type:[],path:"",url:"",component:"",iconCls:""},rules:{name:[{required:!0,message:"请输入菜单名称",trigger:"blur"},{min:3,max:100,trigger:"blur"}]}}},mounted:function(){this.treeLoading=!0,this.loadTreeData(),this.loadAllDeps()},watch:{keywords:function(e){this.$refs.tree.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},handleNodeClick:function(e){console.log("click data:"+s()(e)),this.menuForm.id=e.id,this.menuForm.name=e.name,this.menuForm.path=e.path,this.menuForm.url=e.url,this.menuForm.component=e.component,this.menuForm.iconCls=e.iconCls,this.menuForm.parentId=e.parentId,this.menuForm.enabled=e.enabled,this.menuForm.upDep=e.parentId},onSubmit:function(){console.log("submit!")},loadTreeData:function(){var e=this;this.getRequest("/api/menu/menuTree/-1").then(function(t){console.log("resp loadTreeData："+s()(t.data)),e.treeLoading=!1,t&&200==t.status&&(e.treeData=t.data)})},setDataToTree:function(e,t,a){console.log("respData："+s()(a));for(var i=0;i<e.length;i++){var l=e[i];if(l.id==t)return void(e[i].children=e[i].children.concat(a));this.setDataToTree(l.children,t,a)}},addDep:function(){var e=this;this.dialogVisible=!1,this.treeLoading=!0,this.postRequestJson("/api/system/basic/dep",{name:this.menuName,parentId:this.pDep}).then(function(t){if(e.treeLoading=!1,t&&200==t.status){var a=t.data;e.menuName="",e.$message({type:a.status,message:"添加成功!"}),e.setDataToTree(e.treeData,e.pDep,a.msg)}})},loadAllDeps:function(){var e=this;this.getRequest("/api/menu/all").then(function(t){t&&200==t.status&&(console.log("resp all："+t.data),e.allMenus=t.data)})},showAddDepView:function(e,t){this.loadAllDeps(),this.dialogVisible=!0,this.pDep=e.id,t.stopPropagation()},deleteDep:function(e,t){var a=this;e.children.length>0?this.$message({message:"该菜单下尚有其他子菜单，不能被删除!",type:"warning"}):this.$confirm("删除["+e.name+"]菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.treeLoading=!0,a.deleteRequest("/system/basic/dep/"+e.id).then(function(t){if(a.treeLoading=!1,t&&200==t.status){var i=t.data;a.$message({message:i.msg,type:i.status}),a.deleteLocalDep(a.treeData,e)}})}).catch(function(){a.$message({type:"info",message:"已取消删除"})}),t.stopPropagation()},deleteLocalDep:function(e,t){for(var a=0;a<e.length;a++){var i=e[a];if(i.id==t.id)return void e.splice(a,1);this.deleteLocalDep(i.children,t)}},renderContent:function(e,t){var a,i,n=this,s=t.node,o=t.data;t.store;return e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[s.label])]),e("span",[e("el-button",(a={style:"font-size: 12px;",attrs:{type:"primary",size:"mini"}},l()(a,"style","padding:3px"),l()(a,"on",{click:function(){return n.showAddDepView(o,event)}}),a),["添加菜单"]),e("el-button",(i={style:"font-size: 12px;",attrs:{type:"danger",size:"mini"}},l()(i,"style","padding:3px"),l()(i,"on",{click:function(){return n.deleteDep(o,event)}}),i),["删除菜单"])])])}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",{attrs:{span:12}},[a("div",[a("div",{staticStyle:{"text-align":"left"}},[a("el-input",{staticStyle:{width:"500px",margin:"0px",padding:"0px"},attrs:{placeholder:"输入部门名称搜索菜单...",size:"mini","prefix-icon":"el-icon-search"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1),e._v(" "),a("div",[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"tree",staticStyle:{width:"500px","margin-top":"10px"},attrs:{props:e.defaultProps,data:e.treeData,"filter-node-method":e.filterNode,"default-expand-all":"","highlight-current":"","expand-on-click-node":!1,"render-content":e.renderContent},on:{"node-click":e.handleNodeClick}}),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"添加菜单",visible:e.dialogVisible,width:"25%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("span",[e._v("上级菜单")]),e._v(" "),a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.pDep,callback:function(t){e.pDep=t},expression:"pDep"}},e._l(e.allMenus,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("span",[e._v("菜单名称")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请输入菜单名称..."},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.addDep(t):null}},model:{value:e.menuName,callback:function(t){e.menuName=t},expression:"menuName"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addDep}},[e._v("添加")])],1)])],1)],1)])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("h3",[e._v("修改菜单")]),e._v(" "),a("el-form",{ref:"menuForm",attrs:{model:e.menuForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"菜单名称：",prop:"name"}},[a("el-input",{model:{value:e.menuForm.name,callback:function(t){e.$set(e.menuForm,"name",t)},expression:"menuForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"父菜单：",prop:"parentId"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},model:{value:e.menuForm.upDep,callback:function(t){e.$set(e.menuForm,"upDep",t)},expression:"menuForm.upDep"}},e._l(e.allMenus,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"路径：",prop:"path"}},[a("el-input",{model:{value:e.menuForm.path,callback:function(t){e.$set(e.menuForm,"path",t)},expression:"menuForm.path"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"url：",prop:"url"}},[a("el-input",{model:{value:e.menuForm.url,callback:function(t){e.$set(e.menuForm,"url",t)},expression:"menuForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"组件名称：",prop:"component"}},[a("el-input",{model:{value:e.menuForm.component,callback:function(t){e.$set(e.menuForm,"component",t)},expression:"menuForm.component"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"图标：",prop:"iconCls"}},[a("el-input",{model:{value:e.menuForm.iconCls,callback:function(t){e.$set(e.menuForm,"iconCls",t)},expression:"menuForm.iconCls"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否启用：",prop:"enabled"}},[a("el-switch",{model:{value:e.menuForm.enabled,callback:function(t){e.$set(e.menuForm,"enabled",t)},expression:"menuForm.enabled"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("更新")]),e._v(" "),a("el-button",[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(o,r,!1,function(e){a("1Gow")},null,null);t.default=d.exports},iULA:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n=a("0ZYY"),s=a.n(n),o=(a("npPj"),{components:{Treeselect:s.a},data:function(){return{normalizer:function(e){return{id:e.id,label:e.name,children:e.children}},dialogFormVisible:!1,data:[],status:[{id:"2",value:"审核通过"},{id:"1",value:"审核未通过"}],type:[{id:"-1",value:"全部"},{id:"0",value:"未审核"},{id:"1",value:"审核未通过"},{id:"2",value:"审核通过"}],depts:[],emps:[],pictures:[],fileUploadBtnText:"导入数据",ptime:"",faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",dialogTitle:"",multipleSelection:[],depTextColor:"#c0c4cc",nations:[],politics:[],positions:[],joblevels:[],totalCount:-1,currentPage:1,deps:[],defaultProps:{label:"name",children:"children"},dialogVisible:!1,tableLoading:!1,advanceSearchViewVisible:!1,showOrHidePop:!1,showOrHidePop2:!1,emp:{type:[],number:"",deptids:null,ptime:"2018-01-01",endtime:"2018-10-10",name:"",address:""},auditForm:{name:"",id:"",status:[],mark:"",score:"",type:""},formLabelWidth:"120px"}},mounted:function(){this.initData(),this.loadEmps()},methods:{cancelAudit:function(){this.dialogFormVisible=!1,this.auditForm.mark="",this.auditForm.status=""},submitForm:function(e){this.tableLoading=!0;var t=this;this.postRequestJson("api/reportTask/updateAudit",this.auditForm).then(function(e){e&&200==e.status?(console.log(l()(e)),t.$message({type:e.data.status,message:e.data.msg}),t.loadEmps()):(t.$message({type:e.data.status,message:e.data.msg}),t.loadEmps())}),t.dialogFormVisible=!1},audit:function(e){console.log("*************"+l()(e)),this.auditForm.score=e.number,this.auditForm.id=e.id,this.auditForm.type=e.status,this.cancelAudit(),this.dialogFormVisible=!0},showPictuer:function(e){var t=this;this.getRequest("api/report/getPictureAddress?id="+e.id).then(function(e){if(t.pictures=[],t.dialogVisible=!0,e&&200==e.data.status){var a=e.data.data;t.pictures=a.rows}})},formatterColum:function(e,t){switch(e.status){case 0:return"未审核";case 1:return"审核未通过";case 2:return"审核通过"}},showAdvanceSearchView:function(){this.advanceSearchViewVisible=!this.advanceSearchViewVisible,this.keywords="",this.advanceSearchViewVisible||(this.emptyEmpData(),this.ptime="",this.loadEmps())},handleSelectionChange:function(e){this.multipleSelection=e},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除["+e.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.id)}).catch(function(){})},doDelete:function(e){this.tableLoading=!0;var t=this;this.deleteRequest("/report/delete/"+e).then(function(e){if(t.tableLoading=!1,e&&200==e.status){var a=e.data;t.$message({type:a.status,message:a.msg}),t.loadEmps()}})},keywordsChange:function(e){""==e&&this.loadEmps()},searchEmp:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadReports:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/reportTask/reportAudit?page="+this.currentPage+"&limit=10&ptime="+this.emp.ptime+"&endtime="+this.emp.endtime+"&deptid="+this.emp.deptids+"&status="+this.emp.type).then(function(a){if(e.tableLoading=!1,a&&200==a.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/reportTask/reportAudit?page="+this.currentPage+"&limit=10&ptime="+this.emp.ptime+"&endtime="+this.emp.endtime+"&deptid="+this.emp.deptids+"&status="+this.emp.type).then(function(a){if(e.tableLoading=!1,a&&200==a.data.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},addEmp:function(e){var t=this,a=this;this.$refs[e].validate(function(e){if(!e)return!1;t.emp.id?(t.tableLoading=!0,t.putRequest("/employee/basic/emp",t.emp).then(function(e){if(a.tableLoading=!1,e&&200==e.status){var t=e.data;a.$message({type:t.status,message:t.msg}),a.dialogVisible=!1,a.emptyEmpData(),a.loadEmps()}})):(t.tableLoading=!0,t.postRequest("/employee/basic/emp",t.emp).then(function(e){if(a.tableLoading=!1,e&&200==e.status){var t=e.data;a.$message({type:t.status,message:t.msg}),a.dialogVisible=!1,a.emptyEmpData(),a.loadEmps()}}))})},cancelEidt:function(){this.dialogVisible=!1,this.emptyEmpData()},showDepTree:function(){this.showOrHidePop=!this.showOrHidePop},showDepTree2:function(){this.showOrHidePop2=!this.showOrHidePop2},handleNodeClick:function(e){this.emp.departmentName=e.name,this.emp.deptids=e.id,this.showOrHidePop=!1,this.depTextColor="#606266"},handleNodeClick2:function(e){this.emp.departmentName=e.name,this.emp.deptids=e.id,this.showOrHidePop2=!1,this.depTextColor="#606266"},initData:function(){var e=this;this.getRequest("/api/ndept/deptTree/1").then(function(t){var a=t.data;t&&200==t.status&&(e.depts=a.data,console.log(e.depts),e.data=a.data)})},emptyEmpData:function(){this.emp={name:"",address:"",deptids:null}}}}),r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{"align-content":"center","font-size":"14px"}},[a("el-col",{attrs:{span:5}},[a("span",{staticClass:"demonstration"},[e._v("从")]),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.emp.ptime,callback:function(t){e.$set(e.emp,"ptime",t)},expression:"emp.ptime"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"demonstration"},[e._v("到")]),e._v(" "),a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",size:"mini",placeholder:"结束日期"},model:{value:e.emp.endtime,callback:function(t){e.$set(e.emp,"endtime",t)},expression:"emp.endtime"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("treeselect",{attrs:{size:"small",multiple:!0,options:e.depts,placeholder:"请选择地区",normalizer:e.normalizer},model:{value:e.emp.deptids,callback:function(t){e.$set(e.emp,"deptids",t)},expression:"emp.deptids"}})],1),e._v(" "),a("el-col",{attrs:{span:5,push:1}},[a("el-select",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请选择类型",prop:"type"},model:{value:e.emp.type,callback:function(t){e.$set(e.emp,"type",t)},expression:"emp.type"}},e._l(e.type,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1),e._v(" "),a("el-col",{attrs:{span:3,push:1}},[a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.loadReports}},[e._v("搜索")])],1)],1)]),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{width:"100%",height:"100%"},attrs:{title:"任务审批",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"auditForm",attrs:{model:e.auditForm}},[a("el-form-item",{attrs:{label:"分值:","label-width":e.formLabelWidth,prop:"score"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{"auto-complete":"off",readonly:!0},model:{value:e.auditForm.score,callback:function(t){e.$set(e.auditForm,"score",t)},expression:"auditForm.score"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审核与否:","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"320px"},attrs:{prop:"status"},model:{value:e.auditForm.status,callback:function(t){e.$set(e.auditForm,"status",t)},expression:"auditForm.status"}},e._l(e.status,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"审核信息:","label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"320px",height:"300px"},attrs:{rows:2,placeholder:"请输入内容"},model:{value:e.auditForm.mark,callback:function(t){e.$set(e.auditForm,"mark",t)},expression:"auditForm.mark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelAudit}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm(e.auditForm)}}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"index",align:"left",fixed:"",label:"编号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"left",fixed:"",label:"上报人",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ptime",width:"180",align:"left",label:"上报时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",width:"200",align:"left",label:"任务类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",width:"100",align:"left",label:"上报图片数"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showPictuer(t.row)}}},[e._v("\n                "+e._s(t.row.number)+"\n              ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"address",width:"150",label:"地址"}}),e._v(" "),a("el-table-column",{attrs:{width:"150",prop:"markto",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",width:"180",label:"审批状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.status?a("span",{staticStyle:{color:"sandybrown"}},[e._v("未审核")]):e._e(),e._v(" "),"1"==t.row.status?a("span",{staticStyle:{color:"red"}},[e._v("审核未通过")]):e._e(),e._v(" "),"2"==t.row.status?a("span",{staticStyle:{color:"green"}},[e._v("审核通过")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"score",label:"单条分值",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.status||"1"==t.row.status?a("span",[e._v("0")]):e._e(),e._v(" "),"2"==t.row.status?a("span",[e._v("1")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{color:"gold"},attrs:{type:"text"},on:{click:function(a){e.audit(t.row)}}},[e._v("审核")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.emps.length>0?a("el-button",{attrs:{type:"text",size:"mini",disabled:""}}):e._e(),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{staticStyle:{padding:"0px"},attrs:{title:e.dialogTitle,"close-on-click-modal":!1,visible:e.dialogVisible,width:"77%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e._l(e.pictures,function(e){return a("div",{key:e.id,staticStyle:{display:"inline","padding-right":"10px"}},[a("img",{attrs:{src:e.address,width:"100",height:"100",alt:""}})])}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.cancelEidt}},[e._v("关 闭")])],1)],2)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(o,r,!1,function(e){a("VFXo")},null,null);t.default=d.exports},ju05:function(e,t){},kh7o:function(e,t){},lPmX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n=a("0ZYY"),s=a.n(n),o=(a("npPj"),{components:{Treeselect:s.a},data:function(){return{normalizer:function(e){return{id:e.id,label:e.name,children:e.children}},data:[],month:[{id:""}],depts:[],faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",totalCount:-1,currentPage:1,dialogVisible:!1,tableLoading:!1,advanceSearchViewVisible:!1,showOrHidePop:!1,showOrHidePop2:!1,missiontype:[],reportForm:{starttime:"",endtime:"",deptids:null}}},mounted:function(){this.getdepttree(),this.loadEmps(),this.initDate(),console.log(this)},methods:{initDate:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,i=t+"-"+a+"-"+e.getDate();this.reportForm.endtime=i,this.reportForm.starttime=t+"-"+a+"-1",this.month.id=a,console.log("***   "+this.month.id)},nowMonth:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();a<10&&(a="0"+a),i<10&&(i="0"+i);var l=t+"-"+a+"-"+i;this.reportForm.endtime=l,this.reportForm.starttime=t+"-"+a+"-1",this.loadEmps()},lastMonth:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1-1;a<10&&(a="0"+a);var i=new Date(t,a,0);console.log("最后一天"+i.getDate()),this.reportForm.starttime=t+"-"+a+"-01",this.reportForm.endtime=t+"-"+a+"-"+i.getDate(),this.loadEmps()},last2Month:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1-2;a<10&&(a="0"+a);var i=new Date(t,a,0);console.log("最后一天"+i.getDate()),this.reportForm.starttime=t+"-"+a+"-01",this.reportForm.endtime=t+"-"+a+"-"+i.getDate(),this.loadEmps()},last3Month:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1-3;a<10&&(a="0"+a);var i=new Date(t,a,0);console.log("最后一天"+i.getDate()),this.reportForm.starttime=t+"-"+a+"-01",this.reportForm.endtime=t+"-"+a+"-"+i.getDate(),this.loadEmps()},getmissiontype:function(){var e=this;this.getRequest("/api/reportType/getmytaskmissiontype?userid=1").then(function(t){var a=t.data;t&&200==t.status&&(e.missiontype=a.data.rows,console.log("*********"))})},getdepttree:function(){var e=this;this.getRequest("/api/ndept/deptTree/1").then(function(t){var a=t.data;t&&200==t.status&&(e.depts=a.data,console.log("*********"+l()(e.depts)))})},searchmission:function(){this.loadEmps()},currentChange:function(e){this.currentPage=e,this.loadEmps()},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/reportTask/taskReportScoreByuser?page="+this.currentPage+"&limit=10&userid=1&deptid="+this.reportForm.deptids+"&starttime="+this.reportForm.starttime+"&endtime="+this.reportForm.endtime).then(function(a){if(e.tableLoading=!1,a&&200==a.data.status){var i=a.data.data;t.data=i.rows,t.totalCount=i.total}})}}}),r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center","font-size":"12px"}},[a("div",{staticStyle:{width:"300px"}},[a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.last3Month}},[e._v(e._s(this.month.id-3)+"月")]),e._v(" "),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.last2Month}},[e._v(e._s(this.month.id-2)+"月")]),e._v(" "),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.lastMonth}},[e._v(e._s(this.month.id-1)+"月")]),e._v(" "),a("el-button",{attrs:{plain:"",size:"mini"},on:{click:e.nowMonth}},[e._v("当月")])],1),e._v(" "),a("div",{staticStyle:{width:"800px"}},[a("span",{staticClass:"demonstration"},[e._v("从")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.reportForm.starttime,callback:function(t){e.$set(e.reportForm,"starttime",t)},expression:"reportForm.starttime"}}),e._v(" "),a("span",{staticClass:"demonstration"},[e._v("到")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date","value-format":"yyyy-MM-dd",size:"mini",placeholder:"结束日期"},model:{value:e.reportForm.endtime,callback:function(t){e.$set(e.reportForm,"endtime",t)},expression:"reportForm.endtime"}})],1),e._v(" "),a("div",{staticStyle:{width:"200px"}}),e._v(" "),a("treeselect",{staticStyle:{width:"200px"},attrs:{multiple:!0,options:e.depts,placeholder:"请选择地区",normalizer:e.normalizer},model:{value:e.reportForm.deptids,callback:function(t){e.$set(e.reportForm,"deptids",t)},expression:"reportForm.deptids"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.searchmission}},[e._v("搜索")])],1),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("transition",{attrs:{name:"slide-fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.advanceSearchViewVisible,expression:"advanceSearchViewVisible"}],staticStyle:{"margin-bottom":"10px",border:"1px","border-radius":"5px","border-style":"solid",padding:"5px 0px 5px 0px","box-sizing":"border-box","border-color":"#20a0ff"}})]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.data,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{prop:"id",align:"left",fixed:"",label:"编号",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",align:"left",fixed:"",label:"组员",width:"400"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",width:"300",align:"left",label:"所属部门"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"执行条数",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"score",width:"300",align:"left",label:"得分"}})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[a("el-button",{attrs:{type:"text",size:"mini",disabled:""}}),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1)],1)},staticRenderFns:[]};var d=a("VU/8")(o,r,!1,function(e){a("ZMcM")},null,null);t.default=d.exports},mNON:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    工资表查询\n  ")])])}]},l=a("VU/8")(null,i,!1,null,null,null);t.default=l.exports},nSLl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("员工调薪")])])}]},l=a("VU/8")(null,i,!1,null,null,null);t.default=l.exports},o57p:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("lPmX"),l=a("5NnH"),n={data:function(){return{defaultTab:"depMana"}},methods:{},components:{"dep-mana":i.default,"pos-mana":l.default}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"10px"}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.defaultTab,callback:function(t){e.defaultTab=t},expression:"defaultTab"}},[a("el-tab-pane",{attrs:{label:"按组员统计",name:"depMana"}},[a("dep-mana")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"按地区统计",name:"positionMana"}},[a("pos-mana",{attrs:{state:"position"}})],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(n,s,!1,function(e){a("0ka+")},null,null);t.default=o.exports},oM2D:function(e,t){},q8Mq:function(e,t){},qaox:function(e,t){},r3HF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("\n    员工积分统计\n  ")])])}]},l=a("VU/8")(null,i,!1,null,null,null);t.default=l.exports},tQt2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{"text-align":"left","padding-left":"0px","margin-top":"10px"}},[a("el-tag",{attrs:{size:"medium"}},[e._v("请选择部门:")]),e._v(" "),a("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.depId,callback:function(t){e.depId=t},expression:"depId"}},e._l(e.deps,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-main",[e._v("Main")])],1)],1)},staticRenderFns:[]},l=a("VU/8")({data:function(){return{depId:1,deps:[]}},methods:{loadDeps:function(){var e=this;this.getRequest("/salary/table/deps").then(function(t){t&&200==t.status&&(e.deps=t.data)})}},mounted:function(){this.loadDeps()}},i,!1,null,null,null);t.default=l.exports},tqSc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("ZBaB"),l=a("FvOz"),n=a("5xQo"),s=a("c98W"),o=a("/LNZ"),r={data:function(){return{defaultTab:"depMana"}},methods:{},components:{"menu-role":i.default,"dep-mana":l.default,"ec-mana":n.default,"jobtitle-mana":s.default,"pos-mana":o.default}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-top":"10px"}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.defaultTab,callback:function(t){e.defaultTab=t},expression:"defaultTab"}},[a("el-tab-pane",{attrs:{label:"部门管理",name:"depMana"}},[a("dep-mana")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"职位管理",name:"positionMana"}},[a("pos-mana",{attrs:{state:"position"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"职称管理",name:"jobTitleMana"}},[a("pos-mana",{attrs:{state:"jobtitle"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"奖惩规则",name:"ecCfg"}},[a("ec-mana")],1),e._v(" "),a("el-tab-pane",{attrs:{label:"权限组",name:"menuRole"}},[a("menu-role")],1)],1)],1)},staticRenderFns:[]},p=a("VU/8")(r,d,!1,null,null,null);t.default=p.exports},ubks:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("bOdI"),l=a.n(i),n=a("mvHQ"),s=a.n(n),o=a("0ZYY"),r=a.n(o),d=(a("npPj"),{components:{Treeselect:r.a},data:function(){var e=this;return{deptid:"1",fid:"0",sex:[{id:"0",value:"女"},{id:"1",value:"男"}],nation:[],role:[],userType:[],degree:[],political:[],userNumber:"",emps:[],totalCount:-1,currentPage:1,multipleSelection:[],fileUploadBtnText:"导入数据",keywords:"",username:"",realName:"",tel:"",search:"0",menuName:"",treeLoading:!1,dialogVisible:!1,dialogVisible2:!1,dialogVisible3:!1,dialogVisible4:!1,dialogVisible5:!1,dialogVisible6:!1,dialogVisible7:!1,tableLoading:!1,allMenus:[],pDep:"",pDep1:"",treeData:[],defaultProps:{label:"name",isLeaf:"leaf",children:"children"},normalizer:function(e){return{id:e.id,label:e.name,children:e.children}},deptForm:{ids:"",deptid:null},pwdForm:{id:"",pass:"",checkPass:""},detailForm:{deptName:"",name:"",realName:"",sexValue:"",birthday:"",nationName:"",email:"",tel:"",roleName:"",job:"",qq:"",micro:"",brankName:"",brankAccount:"",politicalValue:"",userTypeValue:"",degreeValue:""},msgForm:{deptid:"",fid:"",name:"",realName:"",sex:[],birthday:"",nation:[],email:"",tel:"",role:[],job:"",qq:"",micro:"",brankName:"",brankAccount:"",political:[],userType:[],degree:[],descript:""},menuForm:{name:"",enabled:!1,type:[],path:"",url:"",component:"",iconCls:""},rules:{realName:[{required:!0,message:"请输入姓名",trigger:"blur"}]},rules2:{pass:[{validator:function(t,a,i){""===a?i(new Error("请输入密码")):(""!==e.pwdForm.checkPass&&e.$refs.pwdForm.validateField("checkPass"),i())},trigger:"blur"}],checkPass:[{validator:function(t,a,i){""===a?i(new Error("请再次输入密码")):a!==e.pwdForm.pass?i(new Error("两次输入密码不一致!")):i()},trigger:"blur"}]}}},mounted:function(){this.treeLoading=!0,this.loadTreeData(),this.initDataUserNum(),this.initDataUser(),this.initData(),console.log("deptid "+this.deptid)},watch:{keywords:function(e){this.$refs.tree.filter(e)}},methods:{fileUploadSuccess:function(e,t,a){e&&this.$message({type:e.status,message:e.msg}),this.loadEmps(),this.fileUploadBtnText="导入数据"},fileUploadError:function(e,t,a){this.$message({type:"error",message:"导入失败!"}),this.fileUploadBtnText="导入数据"},beforeFileUpload:function(e){this.fileUploadBtnText="正在导入"},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},handleNodeClick:function(e){this.initDataUserNum(e.id),this.initDataUser(e.id),this.deptid=e.id,this.fid=e.fid,console.log("click data:"+s()(e)),console.log("deptid  "+s()(e.id))},currentChange:function(e){this.currentPage=e,this.initDataUser()},handleSelectionChange:function(e){this.multipleSelection=e},exportEmps:function(){},onSubmitUserDept:function(e){console.log("data"+s()(e))},onSubmitPwd:function(e){var t=this,a=this;this.putRequestJson("api/user/modifyUserSubPwd",this.pwdForm).then(function(e){e&&200==e.status?(a.$message({type:e.data.status,message:e.data.msg}),t.dialogVisible3=!1):a.$message({type:e.status,message:e.msg})})},submitMsgForm:function(e){var t=this;this.putRequestJson("api/user/updateUser",this.msgForm).then(function(e){e&&200==e.status&&(console.log("回  "+s()(e)),t.$message({type:e.status,message:"修改成功"}),t.dialogVisible4=!1,t.initDataUser())})},submitMsgForm1:function(e){var t=this;e.deptid=this.deptid,e.fid=this.fid,this.postRequestJson("api/user/addUser",this.msgForm).then(function(a){if(a&&200==a.status){t.dialogVisible6=!1;var i=a.data;t.$message({type:i.status,message:i.message}),t.initDataUser(e.deptid)}})},cancelForm:function(){this.deptForm.deptid=null,this.dialogVisible7=!1},modifiPwd:function(e){this.dialogVisible3=!0,this.pwdForm.id=e,console.log("修改  "+e)},modifiMsg:function(e){this.dialogVisible4=!0,this.getUserDetail(e),console.log("修改信息  "+e)},details:function(e){this.dialogVisible5=!0,this.getUserDetail1(e),console.log("详情")},addWpy:function(){this.dialogVisible6=!0,console.log("添加网评员")},moveDept:function(){this.dialogVisible7=!0},checkUserDept:function(e){for(var t=this,a=this,i="",l=0;l<this.multipleSelection.length;l++)i+=this.multipleSelection[l].id+",";""!=i&&null!=i||this.$message({type:"warning",message:"请选择要修改的用户"}),e.ids=i,this.putRequestJson("api/user/updateDept",e).then(function(e){if(t.dialogVisible7=!1,e&&200==e.status){var i=e.data;a.$message({type:i.status,message:i.message})}}),console.log("deptid**** "+a.deptid),a.initDataUser(a.deptid),console.log("ids  "+i),console.log("deptid "+e.deptid)},submitForm:function(e){this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")})},resetForm:function(e){this.$refs[e].resetFields()},searchQuery:function(){this.initDataUser()},onSubmit:function(e){this.tableLoading=!0;var t=this;console.log("form ****** :"+s()(e)),this.postRequestJson("api/report/publishReport",this.reportForm).then(function(e){e&&200==e.status&&(console.log("ssssssssssssssss"+s()(e)),t.$message({type:e.status,message:e.msg}),t.emptyFormData(),t.loadEmps())})},initDataUserNum:function(e){var t=this;void 0==e&&(e=1);this.getRequest("api/user/getUnitsubAllUserNumber?deptid="+e).then(function(e){e&&200==e.status&&(t.userNumber=e.data.data)})},initDataUser:function(e){void 0==e?e=1:this.search="1",null==this.username&&null==this.realName&&null==this.tel||(this.search="1"),console.log("search   "+this.search);var t=this;this.getRequest("api/user/getUnitUser?node="+e+"&search="+this.search+"&username="+this.username+"&realName="+this.realName+"&tel="+this.tel+"&page="+this.currentPage+"&limit=10").then(function(e){if(e&&200==e.status){var a=e.data.data;t.emps=a.rows,t.totalCount=a.total}})},initData:function(){var e=this;this.getRequest("api/user/getNation").then(function(t){t&&200==t.status&&(e.nation=t.data.data)}),this.getRequest("api/rightManager/getRole").then(function(t){t&&200==t.status&&(e.role=t.data.data)}),this.getRequest("api/user/getPolitical").then(function(t){t&&200==t.status&&(e.political=t.data.data)}),this.getRequest("api/user/getUserType").then(function(t){t&&200==t.status&&(e.userType=t.data.data)}),this.getRequest("api/user/getDegree").then(function(t){t&&200==t.status&&(e.degree=t.data.data)})},getUserDetail:function(e){var t=this;this.getRequest("api/user/getDetail?id="+e).then(function(e){if(e&&200==e.status){var a=e.data.data;t.msgForm=a}})},getUserDetail1:function(e){var t=this;this.getRequest("api/user/getDetail?id="+e).then(function(e){if(e&&200==e.status){var a=e.data.data;t.detailForm=a}})},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("api/report/queryorder?page="+this.currentPage+"&limit=10&name="+this.keywords).then(function(a){if(e.tableLoading=!1,a&&200==a.data.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},loadTreeData:function(){var e=this;this.getRequest("/api/ndept/deptTree/1").then(function(t){e.treeLoading=!1,t&&200==t.status&&(e.treeData=t.data.data)})},setDataToTree:function(e,t,a){for(var i=0;i<e.length;i++){var l=e[i];if(l.id==t)return void(e[i].children=e[i].children.concat(a));this.setDataToTree(l.children,t,a)}},doCancel:function(){this.dialogVisible=!1,this.dialogVisible2=!1,this.menuName="",this.pDep1=""},addDep:function(){var e=this;this.dialogVisible=!1,this.treeLoading=!0,this.postRequestJson("api/ndept/addDept",{name:this.menuName,deptid:this.pDep1}).then(function(t){if(e.treeLoading=!1,t&&200==t.status){var a=t.data;e.$message({type:a.status,message:a.message}),e.loadTreeData()}})},updateDept:function(){var e=this;this.dialogVisible=!1,this.treeLoading=!0,this.putRequestJson("api/ndept/updateDept",{name:this.menuName,deptid:this.pDep1}).then(function(t){if(t&&200==t.status){var a=t.data;e.dialogVisible2=!1,e.$message({type:a.status,message:a.message}),e.loadTreeData()}})},loadAllDeps:function(e){var t=this;console.log("id  "+e),this.getRequest("api/ndept/showDept?id="+e).then(function(e){e&&200==e.status&&(console.log("*** ："+s()(e.data.data)),t.allMenus=e.data.data)})},showAddDepView:function(e,t){console.log("data "+s()(e)),this.loadAllDeps(e.id),this.dialogVisible=!0,this.pDep=e.name,this.pDep1=e.id,t.stopPropagation()},modifiedDep:function(e,t){this.dialogVisible2=!0,this.pDep=e.name,this.pDep1=e.id,t.stopPropagation()},deleteManyEmps:function(){var e=this;this.$confirm("此操作将删除["+this.multipleSelection.length+"]条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t="",a=0;a<e.multipleSelection.length;a++)t+=e.multipleSelection[a].id+",";console.log("ids  "+t),e.doDelete(t)}).catch(function(){})},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除["+e.name+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.id)}).catch(function(){})},doDelete:function(e){var t=this;this.tableLoading=!0;var a=this;this.deleteRequest("api/user/deleteUser/"+e).then(function(e){if(a.tableLoading=!1,e&&200==e.status){var i=e.data;a.$message({type:i.status,message:i.message}),a.initDataUser(t.deptid)}})},deleteDep:function(e,t){var a=this;e.children.length>0?(console.log("***"+e.children.length),this.$message({message:"该部门下尚有其他子部门，不能被删除!",type:"warning"})):this.$confirm("删除[ "+e.name+" ]部门的同时会删除该部门下的人员信息(包括网评员及其网站账号),您确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.treeLoading=!0,console.log("部门ID "+e.id),a.deleteRequest("api/ndept/deleteDept/"+e.id).then(function(t){if(a.treeLoading=!1,t&&200==t.status){var i=t.data;a.$message({message:i.message,type:i.status}),a.deleteLocalDep(a.treeData,e)}})}).catch(function(){a.$message({type:"info",message:"已取消删除"})}),t.stopPropagation()},deleteLocalDep:function(e,t){for(var a=0;a<e.length;a++){var i=e[a];if(i.id==t.id)return void e.splice(a,1);this.deleteLocalDep(i.children,t)}},renderContent:function(e,t){var a,i,n,s=this,o=t.node,r=t.data;t.store;return e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",[e("span",[o.label])]),e("span",[e("el-button",(a={style:"font-size: 12px;",attrs:{icon:"el-icon-edit",type:"primary",plain:!0,round:!0,size:"mini"}},l()(a,"style","padding:3px"),l()(a,"on",{click:function(){return s.showAddDepView(r,event)}}),a),["添加"]),e("el-button",(i={style:"font-size: 12px;",attrs:{icon:"el-icon-edit",type:"success",plain:!0,round:!0,size:"mini"}},l()(i,"style","padding:3px"),l()(i,"on",{click:function(){return s.modifiedDep(r,event)}}),i),["修改"]),e("el-button",(n={style:"font-size: 12px;",attrs:{icon:"el-icon-delete",type:"danger",plain:!0,round:!0,size:"mini"}},l()(n,"style","padding:3px"),l()(n,"on",{click:function(){return s.deleteDep(r,event)}}),n),["删除"])])])}}}),p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"修改密码",visible:e.dialogVisible3,width:"30%"},on:{"update:visible":function(t){e.dialogVisible3=t}}},[a("el-form",{ref:"pwdForm",staticClass:"pwdForm",attrs:{model:e.pwdForm,rules:e.rules2,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"密码",prop:"pass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.pwdForm.pass,callback:function(t){e.$set(e.pwdForm,"pass",t)},expression:"pwdForm.pass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.pwdForm.checkPass,callback:function(t){e.$set(e.pwdForm,"checkPass",t)},expression:"pwdForm.checkPass"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmitPwd("pwdForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){e.resetForm("pwdForm")}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"修改用户所在部门",visible:e.dialogVisible7,width:"20%"},on:{"update:visible":function(t){e.dialogVisible7=t}}},[a("el-form",{ref:"deptForm",staticClass:"deptForm",attrs:{model:e.deptForm,"label-width":"100px"}},[a("el-form-item",[a("treeselect",{staticStyle:{width:"200px"},attrs:{options:e.treeData,placeholder:"请选择地区",normalizer:e.normalizer},model:{value:e.deptForm.deptid,callback:function(t){e.$set(e.deptForm,"deptid",t)},expression:"deptForm.deptid"}})],1),e._v(" "),a("el-form-item",[a("el-button",{on:{click:e.cancelForm}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.checkUserDept(e.deptForm)}}},[e._v("修改")])],1)],1)],1)],1),e._v(" "),a("div",[a("el-dialog",{attrs:{title:"修改网评员信息",visible:e.dialogVisible4,width:"50%"},on:{"update:visible":function(t){e.dialogVisible4=t}}},[a("div",{staticStyle:{"margin-top":"10px","text-align":"right"}},[a("el-form",{ref:"msgForm",staticClass:"msgForm",attrs:{model:e.msgForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名：",prop:"name"}},[a("el-input",{attrs:{type:"text",readonly:!0},model:{value:e.msgForm.name,callback:function(t){e.$set(e.msgForm,"name",t)},expression:"msgForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"真实姓名：",prop:"realName"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.realName,callback:function(t){e.$set(e.msgForm,"realName",t)},expression:"msgForm.realName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择性別",prop:"sex"},model:{value:e.msgForm.sex,callback:function(t){e.$set(e.msgForm,"sex",t)},expression:"msgForm.sex"}},e._l(e.sex,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生日：",prop:"birthday"}},[a("el-date-picker",{staticStyle:{width:"360px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"请选择时间"},model:{value:e.msgForm.birthday,callback:function(t){e.$set(e.msgForm,"birthday",t)},expression:"msgForm.birthday"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"民族：",prop:"nation"}},[a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择民族",prop:"nation"},model:{value:e.msgForm.nation,callback:function(t){e.$set(e.msgForm,"nation",t)},expression:"msgForm.nation"}},e._l(e.nation,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电子邮箱：",prop:"email"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.email,callback:function(t){e.$set(e.msgForm,"email",t)},expression:"msgForm.email"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码：",prop:"tel"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.tel,callback:function(t){e.$set(e.msgForm,"tel",t)},expression:"msgForm.tel"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择角色：",prop:"roleName"}},[a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择角色",prop:"role"},model:{value:e.msgForm.role,callback:function(t){e.$set(e.msgForm,"role",t)},expression:"msgForm.role"}},e._l(e.role,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"职位：",prop:"job"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.job,callback:function(t){e.$set(e.msgForm,"job",t)},expression:"msgForm.job"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"QQ：",prop:"qq"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.qq,callback:function(t){e.$set(e.msgForm,"qq",t)},expression:"msgForm.qq"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信：",prop:"micro"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.micro,callback:function(t){e.$set(e.msgForm,"micro",t)},expression:"msgForm.micro"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开户行：",prop:"brankName"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.brankName,callback:function(t){e.$set(e.msgForm,"brankName",t)},expression:"msgForm.brankName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"银行账号：",prop:"brankAccount"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.brankAccount,callback:function(t){e.$set(e.msgForm,"brankAccount",t)},expression:"msgForm.brankAccount"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"政治面貌：",prop:"political"}},[a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择政治面貌",prop:"political"},model:{value:e.msgForm.political,callback:function(t){e.$set(e.msgForm,"political",t)},expression:"msgForm.political"}},e._l(e.political,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"网评员属性：",prop:"userType"}},[a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择网评员属性",prop:"userType"},model:{value:e.msgForm.userType,callback:function(t){e.$set(e.msgForm,"userType",t)},expression:"msgForm.userType"}},e._l(e.userType,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"文化程度：",prop:"degree"}},[a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择文化程度",prop:"degree"},model:{value:e.msgForm.degree,callback:function(t){e.$set(e.msgForm,"degree",t)},expression:"msgForm.degree"}},e._l(e.degree,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1)],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible4=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.submitMsgForm(e.msgForm)}}},[e._v("修改")])],1)])],1),e._v(" "),a("div",[a("el-dialog",{attrs:{title:"添加网评员信息",visible:e.dialogVisible6,width:"50%"},on:{"update:visible":function(t){e.dialogVisible6=t}}},[a("div",{staticStyle:{"margin-top":"10px","text-align":"right"}},[a("el-form",{ref:"msgForm",staticClass:"msgForm",attrs:{model:e.msgForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"真实姓名：",prop:"realName"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.realName,callback:function(t){e.$set(e.msgForm,"realName",t)},expression:"msgForm.realName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"性别：",prop:"sex"}},[a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择性別",prop:"sex"},model:{value:e.msgForm.sex,callback:function(t){e.$set(e.msgForm,"sex",t)},expression:"msgForm.sex"}},e._l(e.sex,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生日：",prop:"birthday"}},[a("el-date-picker",{staticStyle:{width:"360px"},attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"请选择时间"},model:{value:e.msgForm.birthday,callback:function(t){e.$set(e.msgForm,"birthday",t)},expression:"msgForm.birthday"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"民族：",prop:"nation"}},[a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择民族",prop:"nation"},model:{value:e.msgForm.nation,callback:function(t){e.$set(e.msgForm,"nation",t)},expression:"msgForm.nation"}},e._l(e.nation,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电子邮箱：",prop:"email"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.email,callback:function(t){e.$set(e.msgForm,"email",t)},expression:"msgForm.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码：",prop:"tel"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.tel,callback:function(t){e.$set(e.msgForm,"tel",t)},expression:"msgForm.tel"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"选择角色：",prop:"roleName"}},[a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择角色",prop:"role"},model:{value:e.msgForm.role,callback:function(t){e.$set(e.msgForm,"role",t)},expression:"msgForm.role"}},e._l(e.role,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"职位：",prop:"job"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.job,callback:function(t){e.$set(e.msgForm,"job",t)},expression:"msgForm.job"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"QQ：",prop:"qq"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.qq,callback:function(t){e.$set(e.msgForm,"qq",t)},expression:"msgForm.qq"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信：",prop:"micro"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.micro,callback:function(t){e.$set(e.msgForm,"micro",t)},expression:"msgForm.micro"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开户行：",prop:"brankName"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.brankName,callback:function(t){e.$set(e.msgForm,"brankName",t)},expression:"msgForm.brankName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"银行账号：",prop:"brankAccount"}},[a("el-input",{attrs:{type:"text"},model:{value:e.msgForm.brankAccount,callback:function(t){e.$set(e.msgForm,"brankAccount",t)},expression:"msgForm.brankAccount"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"政治面貌：",prop:"political"}},[a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择政治面貌",prop:"political"},model:{value:e.msgForm.political,callback:function(t){e.$set(e.msgForm,"political",t)},expression:"msgForm.political"}},e._l(e.political,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"网评员属性：",prop:"userType"}},[a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择网评员属性",prop:"userType"},model:{value:e.msgForm.userType,callback:function(t){e.$set(e.msgForm,"userType",t)},expression:"msgForm.userType"}},e._l(e.userType,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注信息：",prop:"descript"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.msgForm.descript,callback:function(t){e.$set(e.msgForm,"descript",t)},expression:"msgForm.descript"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"文化程度：",prop:"degree"}},[a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择文化程度",prop:"degree"},model:{value:e.msgForm.degree,callback:function(t){e.$set(e.msgForm,"degree",t)},expression:"msgForm.degree"}},e._l(e.degree,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}))],1)],1)],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible6=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.submitMsgForm1(e.msgForm)}}},[e._v("添加")])],1)])],1),e._v(" "),a("div",[a("el-dialog",{attrs:{title:"用户详细信息",visible:e.dialogVisible5,width:"50%"},on:{"update:visible":function(t){e.dialogVisible5=t}}},[a("div",{staticStyle:{"text-align":"right"}},[a("el-form",{ref:"detailForm",attrs:{model:e.detailForm,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.name,callback:function(t){e.$set(e.detailForm,"name",t)},expression:"detailForm.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"真实姓名："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.realName,callback:function(t){e.$set(e.detailForm,"realName",t)},expression:"detailForm.realName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"性別："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.sexValue,callback:function(t){e.$set(e.detailForm,"sexValue",t)},expression:"detailForm.sexValue"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"出生年月："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.birthday,callback:function(t){e.$set(e.detailForm,"birthday",t)},expression:"detailForm.birthday"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"所在部门："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.deptName,callback:function(t){e.$set(e.detailForm,"deptName",t)},expression:"detailForm.deptName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户角色："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.roleName,callback:function(t){e.$set(e.detailForm,"roleName",t)},expression:"detailForm.roleName"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"电子邮箱："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.email,callback:function(t){e.$set(e.detailForm,"email",t)},expression:"detailForm.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.tel,callback:function(t){e.$set(e.detailForm,"tel",t)},expression:"detailForm.tel"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"民族："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.nationName,callback:function(t){e.$set(e.detailForm,"nationName",t)},expression:"detailForm.nationName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"职位："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.job,callback:function(t){e.$set(e.detailForm,"job",t)},expression:"detailForm.job"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"QQ："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.qq,callback:function(t){e.$set(e.detailForm,"qq",t)},expression:"detailForm.qq"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.micro,callback:function(t){e.$set(e.detailForm,"micro",t)},expression:"detailForm.micro"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开户行："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.brankName,callback:function(t){e.$set(e.detailForm,"brankName",t)},expression:"detailForm.brankName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"银行账号："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.brankAccount,callback:function(t){e.$set(e.detailForm,"brankAccount",t)},expression:"detailForm.brankAccount"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"政治面貌："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.politicalValue,callback:function(t){e.$set(e.detailForm,"politicalValue",t)},expression:"detailForm.politicalValue"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"文化程度："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.degreeValue,callback:function(t){e.$set(e.detailForm,"degreeValue",t)},expression:"detailForm.degreeValue"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"网评员属性："}},[a("el-input",{attrs:{readonly:!0},model:{value:e.detailForm.userTypeValue,callback:function(t){e.$set(e.detailForm,"userTypeValue",t)},expression:"detailForm.userTypeValue"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible5=!1}}},[e._v("关闭")])],1)])],1),e._v(" "),a("el-aside",{staticStyle:{width:"20%"}},[a("el-row",[a("div",{staticStyle:{"font-size":"14px",width:"200px","margin-top":"10px","text-align":"left"}},[a("span",[e._v("组织结构")])])]),e._v(" "),a("div",[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"tree",staticStyle:{width:"300px"},attrs:{props:e.defaultProps,data:e.treeData,accordion:"","filter-node-method":e.filterNode,"highlight-current":"","expand-on-click-node":!1,"render-content":e.renderContent},on:{"node-click":e.handleNodeClick}}),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"添加部门",visible:e.dialogVisible,width:"25%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",[a("span",[e._v("上级部门")]),e._v(" "),a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.pDep,callback:function(t){e.pDep=t},expression:"pDep"}},e._l(e.allMenus,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("span",[e._v("部门名称")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请输入部门名称..."},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.addDep(t):null}},model:{value:e.menuName,callback:function(t){e.menuName=t},expression:"menuName"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.doCancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addDep}},[e._v("添加")])],1)])],1),e._v(" "),a("div",{staticStyle:{"text-align":"left"}},[a("el-dialog",{attrs:{title:"修改部门",visible:e.dialogVisible2,width:"25%"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[a("div",[a("span",[e._v("当前部门名")]),e._v(" "),a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.pDep,callback:function(t){e.pDep=t},expression:"pDep"}},e._l(e.allMenus,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("span",[e._v("新的部门名")]),e._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini",placeholder:"请输入部门名称..."},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.addDep(t):null}},model:{value:e.menuName,callback:function(t){e.menuName=t},expression:"menuName"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:e.doCancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.updateDept}},[e._v("修改")])],1)])],1)],1)],1),e._v(" "),a("el-container",{staticStyle:{width:"70%"}},[a("el-header",{staticStyle:{width:"100%",padding:"0px","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{"text-align":"left","font-size":"14px","margin-top":"10px"}},[a("el-row",[a("span",[e._v("用户总数:")]),e._v(" "),a("el-input",{staticStyle:{width:"200px",margin:"0px",padding:"0px",color:"red"},attrs:{readonly:!0,size:"mini"},model:{value:e.userNumber,callback:function(t){e.userNumber=t},expression:"userNumber"}}),e._v(" "),a("span",[e._v("用户名:")]),e._v(" "),a("el-input",{staticStyle:{width:"200px",margin:"0px",padding:"0px"},attrs:{placeholder:"输入用户名...",size:"mini","prefix-icon":"el-icon-search"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),a("span",[e._v("真实姓名:")]),e._v(" "),a("el-input",{staticStyle:{width:"200px",margin:"0px",padding:"0px"},attrs:{placeholder:"输入姓名...",size:"mini","prefix-icon":"el-icon-search"},model:{value:e.realName,callback:function(t){e.realName=t},expression:"realName"}}),e._v(" "),a("span",[e._v("手机号码:")]),e._v(" "),a("el-input",{staticStyle:{width:"200px",margin:"0px",padding:"0px"},attrs:{placeholder:"输入手机号码...",size:"mini","prefix-icon":"el-icon-search"},model:{value:e.tel,callback:function(t){e.tel=t},expression:"tel"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.searchQuery}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"left","font-size":"14px","margin-top":"10px"}},[a("el-row",[a("el-button",{attrs:{icon:"el-icon-edit",size:"mini",type:"primary",plain:"",round:""},on:{click:e.addWpy}},[e._v("添加网评员")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-delete",size:"mini",type:"primary",plain:"",round:""},on:{click:e.deleteManyEmps}},[e._v("删除网评员")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-edit",size:"mini",type:"primary",plain:"",round:""},on:{click:e.moveDept}},[e._v("移动部门")]),e._v(" "),a("el-upload",{staticStyle:{display:"inline"},attrs:{"show-file-list":!1,accept:"application/vnd.ms-excel",action:"/employee/basic/importEmp","on-success":e.fileUploadSuccess,"on-error":e.fileUploadError,disabled:"正在导入"==e.fileUploadBtnText,"before-upload":e.beforeFileUpload}},[a("el-button",{attrs:{size:"mini",type:"success",loading:"正在导入"==e.fileUploadBtnText}},[a("i",{staticClass:"fa fa-lg fa-level-up",staticStyle:{"margin-right":"5px"}}),e._v("\n                  "+e._s(e.fileUploadBtnText)+"\n                ")])],1),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportEmps}},[a("i",{staticClass:"fa fa-lg fa-level-down",staticStyle:{"margin-right":"5px"}}),e._v("导出数据\n              ")])],1)],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"30px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.emps,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"30"}}),e._v(" "),a("el-table-column",{attrs:{prop:"index",align:"center",fixed:"",label:"编号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",align:"center",fixed:"",label:"用户名",width:"140"}}),e._v(" "),a("el-table-column",{attrs:{prop:"realName",width:"140",align:"center",label:"真实姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deptName",align:"center",label:"所属部门",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",width:"150",align:"center",label:"手机号码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleName",width:"180",align:"center",label:"角色"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!=t.row.roleName||""!=t.row.roleName?a("span",[e._v("\n                    "+e._s(t.row.roleName)+"\n                  ")]):e._e(),e._v(" "),null==t.row.roleName||""==t.row.roleName?a("span",{staticStyle:{color:"red"}},[e._v("暂无角色")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"descript",width:"180",align:"center",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"scope",width:"300",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{color:"gold"},attrs:{type:"text"},on:{click:function(a){e.modifiPwd(t.row.id)}}},[e._v("修改密码")]),e._v(" "),a("el-button",{staticStyle:{color:"gold"},attrs:{type:"text"},on:{click:function(a){e.modifiMsg(t.row.id)}}},[e._v("修改信息")]),e._v(" "),a("el-button",{staticStyle:{color:"gold"},attrs:{type:"text"},on:{click:function(a){e.details(t.row.id)}}},[e._v("详情")])]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[a("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"mini"}}),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(d,p,!1,function(e){a("q8Mq")},null,null);t.default=c.exports},wExx:function(e,t){},"x+ZA":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),l=a.n(i),n=a("bOdI"),s=a.n(n),o={data:function(){return{emps:[],typeBig:[],keywords:"",ptime:"",beginDateScope:"",faangledoubleup:"fa-angle-double-up",faangledoubledown:"fa-angle-double-down",dialogTitle:"",multipleSelection:[],depTextColor:"#c0c4cc",nations:[],politics:[],positions:[],joblevels:[],totalCount:-1,currentPage:1,deps:[],defaultProps:{label:"name",isLeaf:"leaf",children:"children"},dialogVisible:!1,tableLoading:!1,advanceSearchViewVisible:!1,showOrHidePop:!1,showOrHidePop2:!1,emp:s()({typeBig:[],id:"",name:"",typeName:"",address:"",username:"",ptime:"",endtime:"",status:"",score:"",number:"",number2:""},"address",""),rules:{}}},mounted:function(){this.initDate(),this.loadTaskTypeName(),this.loadEmps()},methods:{changePage:function(e){this.$router.push({path:e}),console.log(e)},handleSuccess:function(e,t,a){console.log("response  "+l()(e)),200==e.status?this.$message.success(e.msg):this.$message.error(e.msg),this.loadEmps(),console.log("file  "+l()(t)),console.log("fileList  "+l()(a))},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},exportEmps:function(){window.open("/employee/basic/exportEmp","_parent")},cancelSearch:function(){this.advanceSearchViewVisible=!1,this.emptyEmpData(),this.beginDateScope="",this.loadEmps()},handleSelectionChange:function(e){this.multipleSelection=e},currentChange:function(e){this.currentPage=e,this.loadEmps()},initDate:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate(),l=t+"-"+a+"-"+i,n=a-1;n<10&&(n="0"+n),this.emp.endtime=l,this.emp.ptime=t+"-"+n+"-"+i},loadReports:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("/api/report/getReceive?page="+this.currentPage+"&limit=10&type="+this.emp.typeBig+"&ptime="+this.emp.ptime+"&endtime="+this.emp.endtime).then(function(a){if(e.tableLoading=!1,a&&200==a.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},loadEmps:function(){var e=this,t=this;this.tableLoading=!0,this.getRequest("/api/report/getReceive?page="+this.currentPage+"&limit=10&type="+this.emp.typeBig+"&ptime="+this.emp.ptime+"&endtime="+this.emp.endtime).then(function(a){if(e.tableLoading=!1,a&&200==a.status){var i=a.data.data;t.emps=i.rows,t.totalCount=i.total}})},loadTaskTypeName:function(){var e=this;this.tableLoading=!0,this.getRequest("api/report/getReportTypeName").then(function(t){t&&200==t.status&&(e.typeBig=t.data.data)})},cancelEidt:function(){this.dialogVisible=!1,this.emptyEmpData()},showDepTree:function(){this.showOrHidePop=!this.showOrHidePop},showDepTree2:function(){this.showOrHidePop2=!this.showOrHidePop2},handleNodeClick:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop=!1,this.depTextColor="#606266"},handleNodeClick2:function(e){this.emp.departmentName=e.name,this.emp.departmentId=e.id,this.showOrHidePop2=!1,this.depTextColor="#606266"},See:function(e){console.log(e),window.location.href=e.address},emptyEmpData:function(){this.emp={name:"",address:""}}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticStyle:{padding:"0px",display:"flex","justify-content":"space-between","align-items":"center"}},[a("div",{staticStyle:{"align-content":"center","font-size":"12px"}},[a("span",{staticClass:"demonstration"},[e._v("从")]),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择日期"},model:{value:e.emp.ptime,callback:function(t){e.$set(e.emp,"ptime",t)},expression:"emp.ptime"}}),e._v(" "),a("span",{staticClass:"demonstration"},[e._v("到")]),e._v(" "),a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",size:"mini",placeholder:"结束日期"},model:{value:e.emp.endtime,callback:function(t){e.$set(e.emp,"endtime",t)},expression:"emp.endtime"}}),e._v(" "),a("el-select",{attrs:{clearable:"",size:"mini",placeholder:"请选择任务类型"},model:{value:e.emp.typeBig,callback:function(t){e.$set(e.emp,"typeBig",t)},expression:"emp.typeBig"}},e._l(e.typeBig,function(e){return a("el-option",{key:e.id,attrs:{label:e.typeName,value:e.id}})})),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"mini"},on:{click:e.loadReports}},[e._v("搜索")])],1)]),e._v(" "),a("el-main",{staticStyle:{"padding-left":"0px","padding-top":"0px"}},[a("div",[a("transition",{attrs:{name:"slide-fade"}}),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.emps,border:"",stripe:"",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"id",align:"left",fixed:"",label:"编号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",width:"107",align:"left",label:"任务名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typeName",width:"150",align:"left",label:"任务类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",width:"140",label:"链接"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.changePage(t.row.address)}}},[e._v(e._s(t.row.address))])]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"100",prop:"username",label:"发布人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ptime",width:"120",label:"发布时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endtime",width:"120",label:"结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",width:"100",align:"left",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.status?a("span",{staticStyle:{color:"coral"}},[e._v("正在进行")]):e._e(),e._v(" "),"1"==t.row.status?a("span",{staticStyle:{color:"darkgrey"}},[e._v("已结束")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"score",width:"100",label:"任务分"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",width:"80",align:"left",label:"下发数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number2",align:"left",width:"80",label:"完成数"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"195",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{type:"success",size:"mini",plain:""},on:{click:function(a){e.See(t.row)}}},[e._v("查看截图\n              ")]),e._v(" "),a("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/file/upload","on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-remove":e.beforeRemove,multiple:"",limit:2,"on-exceed":e.handleExceed}},[a("el-button",{staticStyle:{padding:"3px 4px 3px 4px",margin:"2px"},attrs:{size:"mini",type:"primary",plain:""}},[e._v("点击上传")])],1)]}}])})],1),e._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.emps.length>0?a("el-button",{attrs:{type:"text",size:"mini",disabled:0==e.multipleSelection.length}}):e._e(),e._v(" "),a("el-pagination",{attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.currentChange}})],1)],1)])],1)],1)},staticRenderFns:[]};var d=a("VU/8")(o,r,!1,function(e){a("ju05")},null,null);t.default=d.exports},yYJ4:function(e,t){}});
//# sourceMappingURL=1.56c5b8fce466f7d91ab6.js.map