{"version":3,"sources":["webpack:///src/components/menu/MenuBasic.vue","webpack:///./src/components/menu/MenuBasic.vue?0d9a","webpack:///./src/components/menu/MenuBasic.vue","webpack:///./src/components/menu ^\\.\\/.*\\.vue$"],"names":["MenuBasic","data","keywords","menuName","treeLoading","dialogVisible","allMenus","pDep","treeData","defaultProps","label","isLeaf","children","menuForm","name","enabled","type","path","url","component","iconCls","rules","required","message","trigger","min","max","mounted","this","loadTreeData","loadAllDeps","watch","val","$refs","tree","filter","methods","filterNode","value","indexOf","handleNodeClick","console","log","stringify_default","id","parentId","upDep","onSubmit","_this","getRequest","then","resp","status","setDataToTree","pId","respData","i","length","td","concat","addDep","postRequestJson","$message","msg","showAddDepView","event","stopPropagation","deleteDep","$confirm","confirmButtonText","cancelButtonText","deleteRequest","deleteLocalDep","catch","splice","renderContent","h","_ref","_h","_h2","_this2","node","store","style","attrs","size","defineProperty_default","click","menu_MenuBasic","render","_vm","$createElement","_c","_self","staticStyle","margin-top","span","text-align","width","margin","padding","placeholder","prefix-icon","model","callback","$$v","expression","_v","directives","rawName","ref","props","filter-node-method","default-expand-all","highlight-current","expand-on-click-node","render-content","on","node-click","title","visible","update:visible","$event","_l","item","key","nativeOn","keyup","_k","keyCode","staticClass","slot","label-width","prop","$set","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","map","./MenuBasic.vue","webpackContext","req","webpackContextResolve","Error","keys","Object","resolve","module","exports"],"mappings":"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","file":"static/js/9.aab0206e69a1cf3a0019.js","sourcesContent":["<template>\r\n  <el-row style=\"margin-top: 15px\">\r\n    <el-col :span=\"12\">\r\n      <div>\r\n        <div style=\"text-align: left\">\r\n          <el-input\r\n            placeholder=\"输入部门名称搜索菜单...\"\r\n            style=\"width: 500px;margin: 0px;padding: 0px;\"\r\n            size=\"mini\"\r\n            prefix-icon=\"el-icon-search\"\r\n            v-model=\"keywords\">\r\n          </el-input>\r\n        </div>\r\n        <div>\r\n          <el-tree\r\n            :props=\"defaultProps\"\r\n            :data=\"treeData\"\r\n            ref=\"tree\"\r\n            :filter-node-method=\"filterNode\"\r\n            v-loading=\"treeLoading\"\r\n            default-expand-all\r\n            highlight-current\r\n            style=\"width: 500px;margin-top: 10px\"\r\n            @node-click=\"handleNodeClick\"\r\n            :expand-on-click-node=\"false\"\r\n            :render-content=\"renderContent\">\r\n          </el-tree>\r\n          <div style=\"text-align: left\">\r\n            <el-dialog\r\n              title=\"添加菜单\"\r\n              :visible.sync=\"dialogVisible\"\r\n              width=\"25%\">\r\n              <div>\r\n                <span>上级菜单</span>\r\n                <el-select v-model=\"pDep\" style=\"width: 200px\" placeholder=\"请选择\" size=\"mini\">\r\n                  <el-option\r\n                    v-for=\"item in allMenus\"\r\n                    :key=\"item.id\"\r\n                    :label=\"item.name\"\r\n                    :value=\"item.id\">\r\n                  </el-option>\r\n                </el-select>\r\n              </div>\r\n              <div style=\"margin-top: 10px\">\r\n                <span>菜单名称</span>\r\n                <el-input size=\"mini\" style=\"width: 200px;\" v-model=\"menuName\" placeholder=\"请输入菜单名称...\" @keyup.enter.native=\"addDep\"></el-input>\r\n              </div>\r\n              <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button size=\"small\" @click=\"dialogVisible = false\">取消</el-button>\r\n                <el-button size=\"small\" type=\"primary\" @click=\"addDep\">添加</el-button>\r\n              </span>\r\n            </el-dialog>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-col>\r\n    <el-col :span=\"12\">\r\n      <h3>修改菜单</h3>\r\n      <el-form :model=\"menuForm\" :rules=\"rules\" ref=\"menuForm\" label-width=\"100px\">\r\n        <el-form-item label=\"菜单名称：\" prop=\"name\">\r\n          <el-input v-model=\"menuForm.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"父菜单：\" prop=\"parentId\">\r\n          <el-select v-model=\"menuForm.upDep\" style=\"width: 200px\" placeholder=\"请选择\" >\r\n            <el-option\r\n              v-for=\"item in allMenus\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"路径：\" prop=\"path\">\r\n          <el-input v-model=\"menuForm.path\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"url：\" prop=\"url\">\r\n          <el-input v-model=\"menuForm.url\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"组件名称：\" prop=\"component\">\r\n          <el-input v-model=\"menuForm.component\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"图标：\" prop=\"iconCls\">\r\n          <el-input v-model=\"menuForm.iconCls\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否启用：\" prop=\"enabled\">\r\n          <el-switch v-model=\"menuForm.enabled\"></el-switch>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"onSubmit\">更新</el-button>\r\n          <el-button>取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        keywords: '',\r\n        menuName: '',\r\n        treeLoading: false,\r\n        dialogVisible: false,\r\n        allMenus: [],\r\n        pDep: '',\r\n        treeData: [],\r\n        defaultProps: {\r\n          label: 'name',\r\n          isLeaf: 'leaf',\r\n          children: 'children'\r\n        },\r\n        menuForm:{\r\n          name: '',\r\n          enabled: false,\r\n          type: [],\r\n          path: '',\r\n          url: '',\r\n          component: '',\r\n          iconCls: '',\r\n        },\r\n        rules:{\r\n          name:[\r\n            {required:true,message:'请输入菜单名称',trigger:'blur'},\r\n            {min:3,max:100,trigger:'blur'}\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    mounted: function () {\r\n      this.treeLoading = true;\r\n      this.loadTreeData();\r\n      this.loadAllDeps();\r\n    },\r\n    watch: {\r\n      keywords(val) {\r\n        this.$refs.tree.filter(val);\r\n      }\r\n    },\r\n    methods: {\r\n      filterNode(value, data) {\r\n        if (!value) return true;\r\n        return data.name.indexOf(value) !== -1;\r\n      },\r\n      handleNodeClick(data) {\r\n        console.log('click data:'+JSON.stringify(data));\r\n        this.menuForm.id=data.id;\r\n        this.menuForm.name=data.name;\r\n        this.menuForm.path=data.path;\r\n        this.menuForm.url=data.url;\r\n        this.menuForm.component=data.component;\r\n        this.menuForm.iconCls=data.iconCls;\r\n        this.menuForm.parentId=data.parentId;\r\n        this.menuForm.enabled=data.enabled;\r\n        this.menuForm.upDep = data.parentId;\r\n      },\r\n      onSubmit() {\r\n        console.log('submit!');\r\n      },\r\n      loadTreeData(){\r\n        var _this = this;\r\n        //this.getRequest(\"/system/basic/menuTree/-1\").then(resp=> {\r\n        this.getRequest(\"/api/menu/menuTree/-1\").then(resp=> {\r\n          console.log('resp loadTreeData：'+JSON.stringify(resp.data));\r\n          _this.treeLoading = false;\r\n          if (resp && resp.status == 200) {\r\n            _this.treeData = resp.data;\r\n          }\r\n        })\r\n      },\r\n      setDataToTree(treeData,pId,respData){\r\n        console.log('respData：'+JSON.stringify(respData));\r\n        for(var i=0;i<treeData.length;i++) {\r\n          var td = treeData[i];\r\n          if(td.id==pId) {\r\n            treeData[i].children=treeData[i].children.concat(respData);\r\n            return;\r\n          }else{\r\n            this.setDataToTree(td.children, pId, respData);\r\n          }\r\n        }\r\n      },\r\n      addDep(){\r\n        var _this = this;\r\n        this.dialogVisible = false;\r\n        this.treeLoading = true;\r\n        this.postRequestJson(\"/api/system/basic/dep\", {\r\n          name: this.menuName,\r\n          parentId: this.pDep\r\n        }).then(resp=> {\r\n          _this.treeLoading = false;\r\n          if (resp && resp.status == 200) {\r\n            var respData = resp.data;\r\n            _this.menuName = '';\r\n            _this.$message({type: respData.status, message: \"添加成功!\"});\r\n            _this.setDataToTree(_this.treeData,_this.pDep,respData.msg)\r\n          }\r\n        })\r\n      },\r\n      loadAllDeps(){\r\n        var _this = this;\r\n        this.getRequest(\"/api/menu/all\").then(resp=> {\r\n          if (resp && resp.status == 200) {\r\n            console.log('resp all：'+resp.data);\r\n            _this.allMenus = resp.data;\r\n          }\r\n        });\r\n      },\r\n      showAddDepView(data, event){\r\n        this.loadAllDeps();\r\n        this.dialogVisible = true;\r\n        this.pDep = data.id;\r\n        event.stopPropagation()\r\n      },\r\n      deleteDep(data, event){\r\n        var _this = this;\r\n        if (data.children.length>0) {\r\n          this.$message({\r\n            message: '该菜单下尚有其他子菜单，不能被删除!',\r\n            type: 'warning'\r\n          });\r\n        } else {\r\n          this.$confirm('删除[' + data.name + ']菜单, 是否继续?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          }).then(() => {\r\n            _this.treeLoading = true;\r\n            _this.deleteRequest(\"/system/basic/dep/\" + data.id).then(resp=> {\r\n              _this.treeLoading = false;\r\n              if (resp && resp.status == 200) {\r\n                var respData = resp.data;\r\n                _this.$message({\r\n                  message: respData.msg,\r\n                  type: respData.status\r\n                });\r\n                _this.deleteLocalDep(_this.treeData, data);\r\n              }\r\n            });\r\n          }).catch(() => {\r\n            _this.$message({\r\n              type: 'info',\r\n              message: '已取消删除'\r\n            });\r\n          });\r\n        }\r\n        event.stopPropagation()\r\n      },\r\n      deleteLocalDep(treeData,data){\r\n        for(var i=0;i<treeData.length;i++) {\r\n          var td = treeData[i];\r\n          if(td.id==data.id) {\r\n            treeData.splice(i, 1);\r\n            return;\r\n          }else{\r\n            this.deleteLocalDep(td.children, data);\r\n          }\r\n        }\r\n      },\r\n      renderContent(h, {node, data, store}) {\r\n        return (\r\n          <span style=\"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;\">\r\n          <span>\r\n          <span>{node.label}</span>\r\n        </span>\r\n        <span>\r\n        <el-button style=\"font-size: 12px;\" type=\"primary\" size=\"mini\" style=\"padding:3px\" on-click={ () => this.showAddDepView(data,event) }>添加菜单</el-button>\r\n        <el-button style=\"font-size: 12px;\" type=\"danger\" size=\"mini\" style=\"padding:3px\" on-click={ () => this.deleteDep(data,event) }>删除菜单</el-button>\r\n        </span>\r\n        </span>);\r\n      }\r\n    }\r\n  };\r\n</script>\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n  //@import './DepMana.styl';\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/menu/MenuBasic.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('div',[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('el-input',{staticStyle:{\"width\":\"500px\",\"margin\":\"0px\",\"padding\":\"0px\"},attrs:{\"placeholder\":\"输入部门名称搜索菜单...\",\"size\":\"mini\",\"prefix-icon\":\"el-icon-search\"},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}})],1),_vm._v(\" \"),_c('div',[_c('el-tree',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.treeLoading),expression:\"treeLoading\"}],ref:\"tree\",staticStyle:{\"width\":\"500px\",\"margin-top\":\"10px\"},attrs:{\"props\":_vm.defaultProps,\"data\":_vm.treeData,\"filter-node-method\":_vm.filterNode,\"default-expand-all\":\"\",\"highlight-current\":\"\",\"expand-on-click-node\":false,\"render-content\":_vm.renderContent},on:{\"node-click\":_vm.handleNodeClick}}),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"left\"}},[_c('el-dialog',{attrs:{\"title\":\"添加菜单\",\"visible\":_vm.dialogVisible,\"width\":\"25%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',[_c('span',[_vm._v(\"上级菜单\")]),_vm._v(\" \"),_c('el-select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请选择\",\"size\":\"mini\"},model:{value:(_vm.pDep),callback:function ($$v) {_vm.pDep=$$v},expression:\"pDep\"}},_vm._l((_vm.allMenus),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('span',[_vm._v(\"菜单名称\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"size\":\"mini\",\"placeholder\":\"请输入菜单名称...\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addDep($event)}},model:{value:(_vm.menuName),callback:function ($$v) {_vm.menuName=$$v},expression:\"menuName\"}})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.addDep}},[_vm._v(\"添加\")])],1)])],1)],1)])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('h3',[_vm._v(\"修改菜单\")]),_vm._v(\" \"),_c('el-form',{ref:\"menuForm\",attrs:{\"model\":_vm.menuForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"菜单名称：\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.menuForm.name),callback:function ($$v) {_vm.$set(_vm.menuForm, \"name\", $$v)},expression:\"menuForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"父菜单：\",\"prop\":\"parentId\"}},[_c('el-select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.menuForm.upDep),callback:function ($$v) {_vm.$set(_vm.menuForm, \"upDep\", $$v)},expression:\"menuForm.upDep\"}},_vm._l((_vm.allMenus),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"路径：\",\"prop\":\"path\"}},[_c('el-input',{model:{value:(_vm.menuForm.path),callback:function ($$v) {_vm.$set(_vm.menuForm, \"path\", $$v)},expression:\"menuForm.path\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"url：\",\"prop\":\"url\"}},[_c('el-input',{model:{value:(_vm.menuForm.url),callback:function ($$v) {_vm.$set(_vm.menuForm, \"url\", $$v)},expression:\"menuForm.url\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"组件名称：\",\"prop\":\"component\"}},[_c('el-input',{model:{value:(_vm.menuForm.component),callback:function ($$v) {_vm.$set(_vm.menuForm, \"component\", $$v)},expression:\"menuForm.component\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"图标：\",\"prop\":\"iconCls\"}},[_c('el-input',{model:{value:(_vm.menuForm.iconCls),callback:function ($$v) {_vm.$set(_vm.menuForm, \"iconCls\", $$v)},expression:\"menuForm.iconCls\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否启用：\",\"prop\":\"enabled\"}},[_c('el-switch',{model:{value:(_vm.menuForm.enabled),callback:function ($$v) {_vm.$set(_vm.menuForm, \"enabled\", $$v)},expression:\"menuForm.enabled\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"更新\")]),_vm._v(\" \"),_c('el-button',[_vm._v(\"取消\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-029e124c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/menu/MenuBasic.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-029e124c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MenuBasic.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MenuBasic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MenuBasic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-029e124c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MenuBasic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/menu/MenuBasic.vue\n// module id = null\n// module chunks = ","var map = {\n\t\"./MenuBasic.vue\": \"hzgs\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"tcfB\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/menu ^\\.\\/.*\\.vue$\n// module id = tcfB\n// module chunks = 9"],"sourceRoot":""}